import json
import markdown
import numpy as np
from pathlib import Path
from datetime import datetime
from typing import Dict, List
from jinja2 import Environment, FileSystemLoader


class ReportGenerator:

    def __init__(self, base_dir=None, config: Dict = None):
        """
        base_dir = directory of the project root (optional)
        auto-detects src/templates and src/static
        """
        self.config = config or {}

        # Auto-detect paths based on this file location
        self.base_dir = Path(base_dir) if base_dir else Path(__file__).resolve().parent
        self.template_dir = self.base_dir / "templates"
        self.static_dir = self.base_dir / "static"
        self.themes_dir = self.base_dir / "themes"

        self.jinja = Environment(
            loader=FileSystemLoader(str(self.template_dir)),
            autoescape=True
        )

    # --------------------------------------------------------------
    # GENERATE REPORT DICT
    # --------------------------------------------------------------
    def generate_report(self, metrics, patterns, analysis, trader_name="Trader"):
        analysis_text = analysis.get("analysis_text", {})
        summary = analysis.get("summary_data", {})
        web = analysis.get("web_data", {})

        # Convert markdown → HTML
        analysis_html = {
            k: markdown.markdown(v, extensions=["tables", "nl2br"])
            for k, v in analysis_text.items()
            if isinstance(v, str)
        }

        return {
            "metadata": {
                "trader_name": trader_name,
                "generated_at": datetime.now().strftime("%Y-%m-%d %H:%M"),
                "analysis_period": metrics.get("date_range", "N/A"),
            },
            "executive_summary": self._exec_summary(metrics, summary),
            "detailed_metrics": metrics,
            "patterns": patterns,
            "analysis_text": analysis_html,
            "summary_data": summary,
            "web_data": web,
            "risk_score": self._risk_score(metrics, patterns),
            "detected_patterns": patterns,
            "ai_analysis": analysis_html,
            "recommendations": self._format_recommendations(analysis_text.get("recommendations", "")),
            "all_kpis": web.get("kpis", {}),
            "persona_scores": web.get("persona_scores", {}),
            "charts_data": web.get("charts", {}),
        }

    # --------------------------------------------------------------
    # SUMMARY HELPERS
    # --------------------------------------------------------------
    def _exec_summary(self, m, s):
        return {
            "total_trades": s.get("total_trades", m.get("total_trades", 0)),
            "net_pnl": m.get("total_pnl_combined", 0),
            "win_rate": s.get("win_rate", 0),
            "sharpe_ratio": s.get("sharpe_ratio", 0),
            "max_drawdown_pct": s.get("max_drawdown_pct", 0),
            "risk_level": s.get("risk_level", self._risk_level(m)),
            "profit_factor": s.get("profit_factor", 0),
            "open_positions_count": m.get("open_positions_count", 0)
        }

    def _risk_level(self, m):
        sharpe, dd = m.get("sharpe_ratio", 0), abs(m.get("max_drawdown_pct", 0))
        if sharpe < 0 or dd > 30: return "VERY HIGH"
        if sharpe < 0.5 or dd > 20: return "HIGH"
        if sharpe < 1 or dd > 10: return "MEDIUM"
        return "LOW"

    def _format_recommendations(self, text: str) -> List[str]:
        if not text:
            return []
        lines = [l.strip("-•* ").strip() for l in text.splitlines() if l.strip() and len(l.strip()) > 10]
        return lines[:30]  # Increased to show more recommendations

    def _risk_score(self, m, patterns):
        score = 50
        if m.get("sharpe_ratio", 0) < 0: score += 20
        if abs(m.get("max_drawdown_pct", 0)) > 20: score += 10
        if patterns.get("overtrading", {}).get("detected"): score += 10
        return min(score, 100)

    # --------------------------------------------------------------
    # EXPORT HTML USING TEMPLATES
    # --------------------------------------------------------------
    def export_html(self, report: Dict, filepath: str, theme="light"):
        tpl = self.jinja.get_template("report.html")

        html = tpl.render(
            report=report,
            static_path="static",
            theme_css=f"themes/{theme}.css"
        )

        Path(filepath).parent.mkdir(parents=True, exist_ok=True)
        Path(filepath).write_text(html, encoding="utf-8")

    # --------------------------------------------------------------
    # EXPORT JSON
    # --------------------------------------------------------------
    def export_json(self, report: Dict, filepath: str):
        Path(filepath).write_text(
            json.dumps(report, indent=2, default=str),
            encoding="utf-8"
        )


def generate_comprehensive_report():
    """
    Generate a comprehensive trading report with all data

    Parameters:
    - metrics_data: The second document data (all trading metrics)
    - patterns_data: The patterns dictionary from raw_patterns
    - analysis_data: The first document data containing analysis_text, summary_data, and web_data
    """
    metrics_data = {'avg_close_to_open_return': 0.0014004843880341198, 'avg_daily_range': 128.8942281879195, 'avg_f_score': 58.644295302013425, 'avg_gainer_pct': 2339813.40405599, 'avg_holding_period': 2117.0860927152316, 'avg_loser_pct': -180261.75816699807, 'avg_loss': -2484.000000000001, 'avg_realized_pl_per_stock': 9.568965517241361, 'avg_t_score': 55.74664429530201, 'avg_total_score': 67.26484126984127, 'avg_trade_value': 2476.2417218543046, 'avg_trades_per_day': 2.359375, 'avg_unrealized_pl_per_open_stock': -201272.46024464836, 'avg_volume_per_trade': 52910524.06711409, 'avg_win': 1353.0, 'buckets': {'0-5%': {'count': 2, 'list': ['EO CE TATAMOTORS 30Sep2025 740', 'EO CE TATAMOTORS 31Jul2025 690'], 'mtm_share_pct': -0.0, 'open_pos_share_pct': 1.834862385321101, 'total_value': 0.0}, '10-20%': {'count': 0, 'list': [], 'mtm_share_pct': -0.0, 'open_pos_share_pct': 0.0, 'total_value': 0.0}, '20-40%': {'count': 0, 'list': [], 'mtm_share_pct': -0.0, 'open_pos_share_pct': 0.0, 'total_value': 0.0}, '40-60%': {'count': 0, 'list': [], 'mtm_share_pct': -0.0, 'open_pos_share_pct': 0.0, 'total_value': 0.0}, '5-10%': {'count': 0, 'list': [], 'mtm_share_pct': -0.0, 'open_pos_share_pct': 0.0, 'total_value': 0.0}, '60-80%': {'count': 0, 'list': [], 'mtm_share_pct': -0.0, 'open_pos_share_pct': 0.0, 'total_value': 0.0}, '<0%': {'count': 51, 'list': ['EO CE ABB 28Aug2025 5800', 'EO CE ANGELONE 31Jul2025 3300', 'EO CE AUBANK 28Aug2025 840', 'EO CE AUBANK 28Aug2025 850', 'EO CE AUBANK 31Jul2025 830', 'EO CE BAJAJFINSV 26Jun2025 2280', 'EO CE BAJFINANCE 30Sep2025 1100', 'EO CE BAJFINANCE 31Jul2025 950', 'EO CE BAJFINANCE 31Jul2025 960', 'EO CE BEL 28Aug2025 420', 'EO CE BRITANNIA 30Sep2025 6400', 'EO CE BSE 26Jun2025 3100', 'EO CE BSE 26Jun2025 3400', 'EO CE CHOLAFIN 26Jun2025 1800', 'EO CE CHOLAFIN 28Aug2025 1660', 'EO CE COFORGE 30Sep2025 1860', 'EO CE DABUR 28Aug2025 600', 'EO CE DIVISLAB 31Jul2025 7000', 'EO CE DIXON 31Jul2025 15000', 'EO CE DMART 30Sep2025 5000', 'EO CE DMART 30Sep2025 5200', 'EO CE DMART 31Jul2025 4900', 'EO CE EICHERMOT 28Aug2025 6500', 'EO CE EICHERMOT 30Sep2025 7400', 'EO CE ETERNAL 28Aug2025 345', 'EO CE ETERNAL 30Sep2025 370', 'EO CE HDFCBANK 28Aug2025 2100', 'EO CE HDFCBANK 28Aug2025 2240', 'EO CE HDFCBANK 30Sep2025 1050', 'EO CE HDFCLIFE 26Jun2025 800', 'EO CE HDFCLIFE 26Jun2025 810', 'EO CE HDFCLIFE 28Aug2025 850', 'EO CE HEROMOTOCO 28Aug2025 5500', 'EO CE INDHOTEL 30Sep2025 820', 'EO CE INDHOTEL 30Sep2025 840', 'EO CE MFSL 30Sep2025 1840', 'EO CE NYKAA 26Jun2025 205', 'EO CE SBILIFE 31Jul2025 2040', 'EO CE SOLARINDS 31Jul2025 20000', 'EO CE SRF 31Jul2025 3500', 'EO CE TATAELXSI 31Jul2025 6500', 'IO CE NIFTY 26Jun2025 25500', 'IO CE NIFTY 31Jul2025 26900', 'IO PE NIFTY 09Sep2025 24200', 'IO PE NIFTY 12Jun2025 25000', 'IO PE NIFTY 19Jun2025 24000', 'IO PE NIFTY 23Sep2025 24500', 'IO PE NIFTY 26Jun2025 22500', 'IO PE NIFTY 26Jun2025 24700', 'IO PE NIFTY 31Jul2025 24000', 'IO PE NIFTY 31Jul2025 24100'], 'mtm_share_pct': 528.6842901321041, 'open_pos_share_pct': 46.788990825688074, 'total_value': -115986450.66666666}, '>80%': {'count': 56, 'list': ['EO CE ABCAPITAL 30Sep2025 320', 'EO CE ANGELONE 26Jun2025 3300', 'EO CE ASHOKLEY 28Aug2025 140', 'EO CE AUBANK 26Jun2025 800', 'EO CE AUBANK 26Jun2025 820', 'EO CE AUBANK 28Aug2025 830', 'EO CE AUBANK 31Jul2025 940', 'EO CE BAJAJFINSV 26Jun2025 2080', 'EO CE BAJAJFINSV 26Jun2025 2240', 'EO CE BAJFINANCE 28Aug2025 960', 'EO CE BAJFINANCE 30Sep2025 1040', 'EO CE BAJFINANCE 31Jul2025 1070', 'EO CE BAJFINANCE 31Jul2025 980', 'EO CE BIOCON 26Jun2025 380', 'EO CE BOSCHLTD 28Aug2025 44000', 'EO CE BPCL 31Jul2025 350', 'EO CE BRITANNIA 28Aug2025 6000', 'EO CE BRITANNIA 28Aug2025 6200', 'EO CE BRITANNIA 30Sep2025 6600', 'EO CE COFORGE 30Sep2025 2040', 'EO CE DIVISLAB 31Jul2025 7800', 'EO CE DLF 26Jun2025 890', 'EO CE DMART 26Jun2025 4500', 'EO CE DMART 26Jun2025 4600', 'EO CE DMART 31Jul2025 4400', 'EO CE DMART 31Jul2025 4600', 'EO CE EICHERMOT 30Sep2025 7600', 'EO CE FEDERALBNK 28Aug2025 215', 'EO CE FORTIS 28Aug2025 980', 'EO CE HCLTECH 31Jul2025 1700', 'EO CE HDFCBANK 26Jun2025 2000', 'EO CE HDFCBANK 28Aug2025 1030', 'EO CE HDFCLIFE 28Aug2025 820', 'EO CE HEROMOTOCO 28Aug2025 5350', 'EO CE INDIANB 26Jun2025 703.75', 'EO CE INDIANB 28Aug2025 740', 'EO CE INDIANB 31Jul2025 670', 'EO CE INFY 26Jun2025 1680', 'EO CE LODHA 31Jul2025 1480', 'EO CE MARUTI 28Oct2025 18000', 'EO CE MARUTI 30Sep2025 16400', 'EO CE MAXHEALTH 31Jul2025 1400', 'EO CE MFSL 26Jun2025 1680', 'EO CE NAUKRI 28Aug2025 1500', 'EO CE NYKAA 26Jun2025 220', 'EO CE NYKAA 30Sep2025 260', 'EO CE SOLARINDS 26Jun2025 18500', 'EO CE SRF 28Aug2025 3200', 'EO CE TATASTEEL 28Aug2025 180', 'IO CE NIFTY 31Jul2025 25500', 'IO CE NIFTY 31Jul2025 26500', 'IO CE NIFTY 31Jul2025 26800', 'IO PE NIFTY 12Jun2025 24800', 'IO PE NIFTY 26Jun2025 24800', 'IO PE NIFTY 26Jun2025 24900', 'IO PE NIFTY 26Jun2025 25200'], 'mtm_share_pct': -428.68429013210425, 'open_pos_share_pct': 51.37614678899083, 'total_value': 94047752.5}}, 'close_pos_booked_sl_pct': 33.33333333333333,
                    'closed_positions': [
        {'buy_f_scores': [66.0, 66.0],
         'buy_price': 0.55,
         'buy_qty': 10000.0,
         'buy_t_scores': [75.0, 75.0],
         'realized_pnl': -2500.0000000000005,
         'sell_f_scores': [66.0],
         'sell_price': 0.3,
         'sell_qty': 10000.0,
         'sell_t_scores': [75.0],
         'symbol': 'EO CE ASHOKLEY 30Sep2025 150'},
        {'buy_f_scores': [54.0, 54.0], 'buy_price': 0.05, 'buy_qty': 300.0, 'buy_t_scores': [50.0, 50.0], 'realized_pnl': 2205.0, 'sell_f_scores': [54.0, 54.0], 'sell_price': 7.4, 'sell_qty': 300.0, 'sell_t_scores': [25.0, 25.0], 'symbol': 'EO CE DMART 31Jul2025 4500'}, {'buy_f_scores': [54.0], 'buy_price': 0.3, 'buy_qty': 300.0, 'buy_t_scores': [25.0], 'realized_pnl': 3180.0, 'sell_f_scores': [54.0], 'sell_price': 10.9, 'sell_qty': 300.0, 'sell_t_scores': [62.5], 'symbol': 'EO CE DMART 31Jul2025 5000'}, {'buy_f_scores': [74.0], 'buy_price': 8.1, 'buy_qty': 175.0, 'buy_t_scores': [100.0], 'realized_pnl': -166.2499999999999, 'sell_f_scores': [74.0], 'sell_price': 7.15, 'sell_qty': 175.0, 'sell_t_scores': [75.0], 'symbol': 'EO CE EICHERMOT 30Sep2025 7000'}, {'buy_f_scores': [76.0], 'buy_price': 0.2, 'buy_qty': 2200.0, 'buy_t_scores': [50.0], 'realized_pnl': 2310.0, 'sell_f_scores': [75.0, 75.0], 'sell_price': 1.25, 'sell_qty': 2200.0, 'sell_t_scores': [100.0, 100.0], 'symbol': 'EO CE HDFCLIFE 31Jul2025 900'}, {'buy_f_scores': [77.0], 'buy_price': 3.1, 'buy_qty': 3125.0, 'buy_t_scores': [100.0], 'realized_pnl': -3281.250000000001, 'sell_f_scores': [77.0], 'sell_price': 2.05, 'sell_qty': 3125.0, 'sell_t_scores': [100.0], 'symbol': 'EO CE NYKAA 30Sep2025 255'}, {'buy_f_scores': [70.0], 'buy_price': 2.05, 'buy_qty': 25.0, 'buy_t_scores': [62.5], 'realized_pnl': 2531.25, 'sell_f_scores': [70.0], 'sell_price': 103.3, 'sell_qty': 25.0, 'sell_t_scores': [100.0], 'symbol': 'EO CE SHREECEM 31Jul2025 34000'}], 'consecutive_losses': 2, 'consecutive_wins': 3, 'date_range': '2025-06-02 to 2025-09-30', 'day_mtm': 0.0, 'downside_deviation': 2498.0600911006927, 'efficiency_ratio': 0.042774566473988335, 'f_score_volatility': 26.695751718280935,

                    'gainer':
                        {'count': 60,
                         'list': ['EO CE ABCAPITAL 30Sep2025 320', 'EO CE ANGELONE 26Jun2025 3300', 'EO CE ASHOKLEY 28Aug2025 140', 'EO CE AUBANK 26Jun2025 800', 'EO CE AUBANK 26Jun2025 820', 'EO CE AUBANK 28Aug2025 830', 'EO CE AUBANK 31Jul2025 940', 'EO CE BAJAJFINSV 26Jun2025 2080', 'EO CE BAJAJFINSV 26Jun2025 2240', 'EO CE BAJFINANCE 28Aug2025 960', 'EO CE BAJFINANCE 30Sep2025 1040', 'EO CE BAJFINANCE 31Jul2025 1070', 'EO CE BAJFINANCE 31Jul2025 980', 'EO CE BIOCON 26Jun2025 380', 'EO CE BOSCHLTD 28Aug2025 44000', 'EO CE BPCL 31Jul2025 350', 'EO CE BRITANNIA 28Aug2025 6000', 'EO CE BRITANNIA 28Aug2025 6200', 'EO CE BRITANNIA 30Sep2025 6600', 'EO CE COFORGE 30Sep2025 2040', 'EO CE DIVISLAB 31Jul2025 7800', 'EO CE DLF 26Jun2025 890', 'EO CE DMART 26Jun2025 4500', 'EO CE DMART 26Jun2025 4600', 'EO CE DMART 31Jul2025 4400', 'EO CE DMART 31Jul2025 4500', 'EO CE DMART 31Jul2025 4600', 'EO CE DMART 31Jul2025 5000', 'EO CE EICHERMOT 30Sep2025 7600', 'EO CE FEDERALBNK 28Aug2025 215', 'EO CE FORTIS 28Aug2025 980', 'EO CE HCLTECH 31Jul2025 1700', 'EO CE HDFCBANK 26Jun2025 2000', 'EO CE HDFCBANK 28Aug2025 1030', 'EO CE HDFCLIFE 28Aug2025 820', 'EO CE HDFCLIFE 31Jul2025 900', 'EO CE HEROMOTOCO 28Aug2025 5350', 'EO CE INDIANB 26Jun2025 703.75', 'EO CE INDIANB 28Aug2025 740', 'EO CE INDIANB 31Jul2025 670', 'EO CE INFY 26Jun2025 1680', 'EO CE LODHA 31Jul2025 1480', 'EO CE MARUTI 28Oct2025 18000', 'EO CE MARUTI 30Sep2025 16400', 'EO CE MAXHEALTH 31Jul2025 1400', 'EO CE MFSL 26Jun2025 1680', 'EO CE NAUKRI 28Aug2025 1500', 'EO CE NYKAA 26Jun2025 220', 'EO CE NYKAA 30Sep2025 260', 'EO CE SHREECEM 31Jul2025 34000', 'EO CE SOLARINDS 26Jun2025 18500', 'EO CE SRF 28Aug2025 3200', 'EO CE TATASTEEL 28Aug2025 180', 'IO CE NIFTY 31Jul2025 25500', 'IO CE NIFTY 31Jul2025 26500', 'IO CE NIFTY 31Jul2025 26800', 'IO PE NIFTY 12Jun2025 24800', 'IO PE NIFTY 26Jun2025 24800', 'IO PE NIFTY 26Jun2025 24900', 'IO PE NIFTY 26Jun2025 25200']},

                    'high_score_win_rate': 1.6666666666666667, 'hit_rate_52w_high': 0.6711409395973155, 'hit_rate_52w_low': 0.0, 'hit_rate_alltime_high': 0.6711409395973155, 'largest_loss': -6472.500000000001, 'largest_win': 3180.0,
                    'loser': {'count': 54, 'list': ['EO CE ABB 28Aug2025 5800', 'EO CE ANGELONE 31Jul2025 3300', 'EO CE ASHOKLEY 30Sep2025 150', 'EO CE AUBANK 28Aug2025 840', 'EO CE AUBANK 28Aug2025 850', 'EO CE AUBANK 31Jul2025 830', 'EO CE BAJAJFINSV 26Jun2025 2280', 'EO CE BAJFINANCE 30Sep2025 1100', 'EO CE BAJFINANCE 31Jul2025 950', 'EO CE BAJFINANCE 31Jul2025 960', 'EO CE BEL 28Aug2025 420', 'EO CE BRITANNIA 30Sep2025 6400', 'EO CE BSE 26Jun2025 3100', 'EO CE BSE 26Jun2025 3400', 'EO CE CHOLAFIN 26Jun2025 1800', 'EO CE CHOLAFIN 28Aug2025 1660', 'EO CE COFORGE 30Sep2025 1860', 'EO CE DABUR 28Aug2025 600', 'EO CE DIVISLAB 31Jul2025 7000', 'EO CE DIXON 31Jul2025 15000', 'EO CE DMART 30Sep2025 5000', 'EO CE DMART 30Sep2025 5200', 'EO CE DMART 31Jul2025 4900', 'EO CE EICHERMOT 28Aug2025 6500', 'EO CE EICHERMOT 30Sep2025 7000', 'EO CE EICHERMOT 30Sep2025 7400', 'EO CE ETERNAL 28Aug2025 345', 'EO CE ETERNAL 30Sep2025 370', 'EO CE HDFCBANK 28Aug2025 2100', 'EO CE HDFCBANK 28Aug2025 2240', 'EO CE HDFCBANK 30Sep2025 1050', 'EO CE HDFCLIFE 26Jun2025 800', 'EO CE HDFCLIFE 26Jun2025 810', 'EO CE HDFCLIFE 28Aug2025 850', 'EO CE HEROMOTOCO 28Aug2025 5500', 'EO CE INDHOTEL 30Sep2025 820', 'EO CE INDHOTEL 30Sep2025 840', 'EO CE MFSL 30Sep2025 1840', 'EO CE NYKAA 26Jun2025 205', 'EO CE NYKAA 30Sep2025 255', 'EO CE SBILIFE 31Jul2025 2040', 'EO CE SOLARINDS 31Jul2025 20000', 'EO CE SRF 31Jul2025 3500', 'EO CE TATAELXSI 31Jul2025 6500', 'IO CE NIFTY 26Jun2025 25500', 'IO CE NIFTY 31Jul2025 26900', 'IO PE NIFTY 09Sep2025 24200', 'IO PE NIFTY 12Jun2025 25000', 'IO PE NIFTY 19Jun2025 24000', 'IO PE NIFTY 23Sep2025 24500', 'IO PE NIFTY 26Jun2025 22500', 'IO PE NIFTY 26Jun2025 24700', 'IO PE NIFTY 31Jul2025 24000', 'IO PE NIFTY 31Jul2025 24100']}, 'low_score_loss_rate': 89.39393939393939, 'max_drawdown': -6472.500000000001, 'max_drawdown_pct': 98.31, 'open_positions': [{'f_score': 0.0, 'holding_days': 0, 'mtm_pct': -2751938.8888888885, 'qty': 225, 'rate': 0.9, 'symbol': 'IO PE NIFTY 31Jul2025 24000', 't_score': -1.4, 'transaction_type': 'SELL', 'unrealized': -5572676.249999999, 'value': 202.5}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -1303750.0, 'qty': 75, 'rate': 1.9, 'symbol': 'IO PE NIFTY 09Sep2025 24200', 't_score': 0.28, 'transaction_type': 'SELL', 'unrealized': -1857843.75, 'value': 142.5}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -770312.1212121212, 'qty': 75, 'rate': 3.3, 'symbol': 'IO PE NIFTY 23Sep2025 24500', 't_score': 1.97, 'transaction_type': 'SELL', 'unrealized': -1906522.5, 'value': 247.5}, {'f_score': 0.0, 'holding_days': 0, 'mtm_pct': -601873.1707317075, 'qty': 300, 'rate': 4.1, 'symbol': 'IO PE NIFTY 31Jul2025 24100', 't_score': -2.24, 'transaction_type': 'SELL', 'unrealized': -7403040.000000001, 'value': 1230.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -341632.8767123288, 'qty': 225, 'rate': 7.3, 'symbol': 'IO PE NIFTY 26Jun2025 22500', 't_score': 0.66, 'transaction_type': 'SELL', 'unrealized': -5611320.0, 'value': 1642.5}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -264656.4766839378, 'qty': 600, 'rate': 9.65, 'symbol': 'IO PE NIFTY 26Jun2025 24700', 't_score': 2.58, 'transaction_type': 'SELL', 'unrealized': -15323610.0, 'value': 5790.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -226686.36363636365, 'qty': 225, 'rate': 11.0, 'symbol': 'IO PE NIFTY 19Jun2025 24000', 't_score': 0.66, 'transaction_type': 'SELL', 'unrealized': -5610487.5, 'value': 2475.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -213838.55932203392, 'qty': 225, 'rate': 11.8, 'symbol': 'IO CE NIFTY 26Jun2025 25500', 't_score': 1.83, 'transaction_type': 'SELL', 'unrealized': -5677413.75, 'value': 2655.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -194415.83769633507, 'qty': 375, 'rate': 12.733333333333333, 'symbol': 'IO CE NIFTY 31Jul2025 26900', 't_score': 0.82, 'transaction_type': 'SELL', 'unrealized': -9283356.25, 'value': 4775.0}, {'f_score': 90.0, 'holding_days': 0, 'mtm_pct': -180255.55555555556, 'qty': 375, 'rate': 0.9, 'symbol': 'EO CE COFORGE 30Sep2025 1860', 't_score': 25.0, 'transaction_type': 'SELL', 'unrealized': -608362.5, 'value': 337.5}, {'f_score': 58.0, 'holding_days': 0, 'mtm_pct': -175502.94117647057, 'qty': 125, 'rate': 3.4, 'symbol': 'EO CE BRITANNIA 30Sep2025 6400', 't_score': 62.5, 'transaction_type': 'SELL', 'unrealized': -745887.5, 'value': 425.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': -161872.60273972605, 'qty': 175, 'rate': 3.65, 'symbol': 'EO CE EICHERMOT 28Aug2025 6500', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -1033961.2500000001, 'value': 638.75}, {'f_score': 73.0, 'holding_days': 0, 'mtm_pct': -153600.0, 'qty': 500, 'rate': 1.3, 'symbol': 'EO CE BAJAJFINSV 26Jun2025 2280', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -998400.0, 'value': 650.0}, {'f_score': 55.0, 'holding_days': 0, 'mtm_pct': -136250.0, 'qty': 1100, 'rate': 0.7, 'symbol': 'EO CE HDFCBANK 30Sep2025 1050', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -1049125.0, 'value': 770.0}, {'f_score': 89.0, 'holding_days': 0, 'mtm_pct': -129383.33333333333, 'qty': 1875, 'rate': 1.2, 'symbol': 'EO CE CHOLAFIN 26Jun2025 1800', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -2911125.0, 'value': 2250.0}, {'f_score': 55.0, 'holding_days': 0, 'mtm_pct': -116852.94117647059, 'qty': 1100, 'rate': 0.85, 'symbol': 'EO CE HDFCBANK 28Aug2025 2100', 't_score': 62.5, 'transaction_type': 'SELL', 'unrealized': -1092575.0, 'value': 935.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': -116565.42923433876, 'qty': 450, 'rate': 21.55, 'symbol': 'IO PE NIFTY 12Jun2025 25000', 't_score': 1.57, 'transaction_type': 'SELL', 'unrealized': -11303932.500000002, 'value': 9697.5}, {'f_score': 85.0, 'holding_days': 0, 'mtm_pct': -107328.57142857142, 'qty': 1000, 'rate': 0.7, 'symbol': 'EO CE INDHOTEL 30Sep2025 820', 't_score': 25.0, 'transaction_type': 'SELL', 'unrealized': -751300.0, 'value': 700.0}, {'f_score': 91.0, 'holding_days': 0, 'mtm_pct': -101614.28571428571, 'qty': 150, 'rate': 4.9, 'symbol': 'EO CE HEROMOTOCO 28Aug2025 5500', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -746865.0, 'value': 735.0}, {'f_score': 55.0, 'holding_days': 0, 'mtm_pct': -100510.0, 'qty': 550, 'rate': 1.0, 'symbol': 'EO CE HDFCBANK 28Aug2025 2240', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -552805.0, 'value': 550.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': -90760.78431372548, 'qty': 150, 'rate': 5.1, 'symbol': 'EO CE DMART 30Sep2025 5000', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -694319.9999999999, 'value': 765.0}, {'f_score': 85.0, 'holding_days': 0, 'mtm_pct': -86072.22222222222, 'qty': 1000, 'rate': 0.9, 'symbol': 'EO CE INDHOTEL 30Sep2025 840', 't_score': 37.5, 'transaction_type': 'SELL', 'unrealized': -774650.0, 'value': 900.0}, {'f_score': 75.0, 'holding_days': 0, 'mtm_pct': -85916.66666666666, 'qty': 2200, 'rate': 0.9, 'symbol': 'EO CE HDFCLIFE 26Jun2025 800', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -1701150.0, 'value': 1980.0}, {'f_score': 73.0, 'holding_days': 0, 'mtm_pct': -84900.0, 'qty': 2850, 'rate': 0.45, 'symbol': 'EO CE BEL 28Aug2025 420', 't_score': 37.5, 'transaction_type': 'SELL', 'unrealized': -1088842.5, 'value': 1282.5}, {'f_score': 83.0, 'holding_days': 0, 'mtm_pct': -81639.39393939394, 'qty': 750, 'rate': 3.3, 'symbol': 'EO CE BSE 26Jun2025 3400', 't_score': 62.5, 'transaction_type': 'SELL', 'unrealized': -2020575.0, 'value': 2475.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': -79111.53846153847, 'qty': 1500, 'rate': 1.3, 'symbol': 'EO CE BAJFINANCE 30Sep2025 1100', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -1542675.0, 'value': 1950.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': -78068.06722689075, 'qty': 150, 'rate': 5.95, 'symbol': 'EO CE DMART 30Sep2025 5200', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -696757.5, 'value': 892.5}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': -74768.42105263159, 'qty': 625, 'rate': 1.9, 'symbol': 'EO CE CHOLAFIN 28Aug2025 1660', 't_score': 25.0, 'transaction_type': 'SELL', 'unrealized': -887875.0, 'value': 1187.5}, {'f_score': 79.0, 'holding_days': 0, 'mtm_pct': -68345.45454545454, 'qty': 2000, 'rate': 1.1, 'symbol': 'EO CE AUBANK 31Jul2025 830', 't_score': 37.5, 'transaction_type': 'SELL', 'unrealized': -1503600.0, 'value': 2200.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': -67585.18518518517, 'qty': 1500, 'rate': 1.35, 'symbol': 'EO CE BAJFINANCE 31Jul2025 960', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -1368600.0, 'value': 2025.0000000000002}, {'f_score': 75.0, 'holding_days': 0, 'mtm_pct': -67200.00000000001, 'qty': 1100, 'rate': 1.15, 'symbol': 'EO CE HDFCLIFE 26Jun2025 810', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -850080.0000000001, 'value': 1265.0}, {'f_score': 67.0, 'holding_days': 0, 'mtm_pct': -62296.55172413793, 'qty': 375, 'rate': 2.9, 'symbol': 'EO CE SBILIFE 31Jul2025 2040', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -677475.0, 'value': 1087.5}, {'f_score': 40.0, 'holding_days': 0, 'mtm_pct': -61327.27272727273, 'qty': 2425, 'rate': 0.55, 'symbol': 'EO CE ETERNAL 30Sep2025 370', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -817952.5, 'value': 1333.75}, {'f_score': 90.0, 'holding_days': 0, 'mtm_pct': -56552.17391304347, 'qty': 75, 'rate': 29.9, 'symbol': 'EO CE SOLARINDS 31Jul2025 20000', 't_score': 62.5, 'transaction_type': 'SELL', 'unrealized': -1268182.5, 'value': 2242.5}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': -55148.275862068964, 'qty': 800, 'rate': 2.9, 'symbol': 'EO CE MFSL 30Sep2025 1840', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -1279440.0, 'value': 2320.0}, {'f_score': 63.0, 'holding_days': 0, 'mtm_pct': -53335.0, 'qty': 1250, 'rate': 1.0, 'symbol': 'EO CE DABUR 28Aug2025 600', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -666687.5, 'value': 1250.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': -47992.10526315789, 'qty': 750, 'rate': 1.9, 'symbol': 'EO CE BAJFINANCE 31Jul2025 950', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -683887.5, 'value': 1425.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': -46649.720670391056, 'qty': 350, 'rate': 14.916666666666666, 'symbol': 'EO CE EICHERMOT 30Sep2025 7400', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -2435504.1666666665, 'value': 5220.833333333333}, {'f_score': 76.0, 'holding_days': 0, 'mtm_pct': -44676.470588235294, 'qty': 1100, 'rate': 1.7, 'symbol': 'EO CE HDFCLIFE 28Aug2025 850', 't_score': 50.0, 'transaction_type': 'SELL', 'unrealized': -835450.0, 'value': 1870.0}, {'f_score': 79.0, 'holding_days': 0, 'mtm_pct': -41008.333333333336, 'qty': 1000, 'rate': 1.8, 'symbol': 'EO CE AUBANK 28Aug2025 850', 't_score': 37.5, 'transaction_type': 'SELL', 'unrealized': -738150.0000000001, 'value': 1800.0}, {'f_score': 44.0, 'holding_days': 0, 'mtm_pct': -38365.71428571428, 'qty': 250, 'rate': 7.0, 'symbol': 'EO CE ANGELONE 31Jul2025 3300', 't_score': 25.0, 'transaction_type': 'SELL', 'unrealized': -671400.0, 'value': 1750.0}, {'f_score': 65.0, 'holding_days': 0, 'mtm_pct': -34077.852348993285, 'qty': 125, 'rate': 14.9, 'symbol': 'EO CE ABB 28Aug2025 5800', 't_score': 0.0, 'transaction_type': 'SELL', 'unrealized': -634700.0, 'value': 1862.5}, {'f_score': 66.0, 'holding_days': 0, 'mtm_pct': -32960.0, 'qty': 5900, 'rate': 0.6, 'symbol': 'EO CE NYKAA 26Jun2025 205', 't_score': 62.5, 'transaction_type': 'SELL', 'unrealized': -1166784.0, 'value': 3540.0}, {'f_score': 40.0, 'holding_days': 0, 'mtm_pct': -27057.44680851064, 'qty': 4850, 'rate': 1.175, 'symbol': 'EO CE ETERNAL 28Aug2025 345', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -1541936.25, 'value': 5698.75}, {'f_score': 79.0, 'holding_days': 0, 'mtm_pct': -25982.35294117647, 'qty': 3000, 'rate': 2.8333333333333335, 'symbol': 'EO CE AUBANK 28Aug2025 840', 't_score': 37.5, 'transaction_type': 'SELL', 'unrealized': -2208500.0, 'value': 8500.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': -24164.0, 'qty': 200, 'rate': 25.0, 'symbol': 'EO CE TATAELXSI 31Jul2025 6500', 't_score': 6.25, 'transaction_type': 'SELL', 'unrealized': -1208200.0, 'value': 5000.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': -22984.888304862023, 'qty': 300, 'rate': 19.025, 'symbol': 'EO CE DMART 31Jul2025 4900', 't_score': 62.5, 'transaction_type': 'SELL', 'unrealized': -1311862.5, 'value': 5707.5}, {'f_score': 71.0, 'holding_days': 0, 'mtm_pct': -21903.571428571428, 'qty': 200, 'rate': 14.0, 'symbol': 'EO CE SRF 31Jul2025 3500', 't_score': 75.0, 'transaction_type': 'SELL', 'unrealized': -613300.0, 'value': 2800.0}, {'f_score': 83.0, 'holding_days': 0, 'mtm_pct': -15836.686390532546, 'qty': 750, 'rate': 16.9, 'symbol': 'EO CE BSE 26Jun2025 3100', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -2007300.0, 'value': 12674.999999999998}, {'f_score': 88.0, 'holding_days': 0, 'mtm_pct': -5770.258620689656, 'qty': 200, 'rate': 116.0, 'symbol': 'EO CE DIVISLAB 31Jul2025 7000', 't_score': 100.0, 'transaction_type': 'SELL', 'unrealized': -1338700.0, 'value': 23200.0}, {'f_score': 77.0, 'holding_days': 0, 'mtm_pct': -2903.8783425188813, 'qty': 50, 'rate': 489.9, 'symbol': 'EO CE DIXON 31Jul2025 15000', 't_score': 25.0, 'transaction_type': 'SELL', 'unrealized': -711305.0, 'value': 24495.0}, {'f_score': 0.0, 'holding_days': 0, 'mtm_pct': 0.0, 'qty': 1600, 'rate': 1.0, 'symbol': 'EO CE TATAMOTORS 31Jul2025 690', 't_score': 0.0, 'transaction_type': 'SELL', 'unrealized': 0.0, 'value': 1600.0}, {'f_score': 0.0, 'holding_days': 0, 'mtm_pct': 0.0, 'qty': 800, 'rate': 4.25, 'symbol': 'EO CE TATAMOTORS 30Sep2025 740', 't_score': 0.0, 'transaction_type': 'BUY', 'unrealized': 0.0, 'value': 3400.0}, {'f_score': 68.0, 'holding_days': 0, 'mtm_pct': 8701.657458563535, 'qty': 1000, 'rate': 9.05, 'symbol': 'EO CE AUBANK 26Jun2025 800', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 787500.0, 'value': 9050.0}, {'f_score': 77.0, 'holding_days': 0, 'mtm_pct': 12670.526315789471, 'qty': 3125, 'rate': 1.9, 'symbol': 'EO CE NYKAA 30Sep2025 260', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 752312.4999999999, 'value': 5937.5}, {'f_score': 80.0, 'holding_days': 0, 'mtm_pct': 12781.167697921626, 'qty': 25, 'rate': 315.15, 'symbol': 'EO CE BOSCHLTD 28Aug2025 44000', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 1006996.25, 'value': 7878.749999999999}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': 15334.615384615385, 'qty': 3000, 'rate': 6.5, 'symbol': 'EO CE BAJFINANCE 30Sep2025 1040', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 2990250.0, 'value': 19500.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': 18972.17877094972, 'qty': 150, 'rate': 22.375, 'symbol': 'EO CE DMART 31Jul2025 4600', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 636753.75, 'value': 3356.25}, {'f_score': 73.0, 'holding_days': 0, 'mtm_pct': 21940.624999999996, 'qty': 2500, 'rate': 1.6, 'symbol': 'EO CE BIOCON 26Jun2025 380', 't_score': 62.5, 'transaction_type': 'BUY', 'unrealized': 877624.9999999999, 'value': 4000.0}, {'f_score': 69.0, 'holding_days': 0, 'mtm_pct': 23356.050955414015, 'qty': 1550, 'rate': 3.925, 'symbol': 'EO CE FORTIS 28Aug2025 980', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 1420923.75, 'value': 6083.75}, {'f_score': 88.0, 'holding_days': 0, 'mtm_pct': 23366.666666666664, 'qty': 825, 'rate': 3.6, 'symbol': 'EO CE DLF 26Jun2025 890', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 693990.0, 'value': 2970.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': 26261.290322580648, 'qty': 300, 'rate': 15.5, 'symbol': 'EO CE DMART 31Jul2025 4400', 't_score': 25.0, 'transaction_type': 'BUY', 'unrealized': 1221150.0, 'value': 4650.0}, {'f_score': 77.0, 'holding_days': 0, 'mtm_pct': 26270.49180327869, 'qty': 400, 'rate': 6.1, 'symbol': 'EO CE INFY 26Jun2025 1680', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 641000.0, 'value': 2440.0}, {'f_score': 45.0, 'holding_days': 0, 'mtm_pct': 26399.999999999993, 'qty': 3100, 'rate': 1.1, 'symbol': 'EO CE ABCAPITAL 30Sep2025 320', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 900239.9999999999, 'value': 3410.0000000000005}, {'f_score': 66.0, 'holding_days': 0, 'mtm_pct': 26556.0, 'qty': 5000, 'rate': 0.5, 'symbol': 'EO CE ASHOKLEY 28Aug2025 140', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 663900.0, 'value': 2500.0}, {'f_score': 58.0, 'holding_days': 0, 'mtm_pct': 30314.999999999996, 'qty': 250, 'rate': 20.0, 'symbol': 'EO CE BRITANNIA 30Sep2025 6600', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 1515750.0, 'value': 5000.0}, {'f_score': 67.0, 'holding_days': 0, 'mtm_pct': 32027.058823529416, 'qty': 750, 'rate': 4.25, 'symbol': 'EO CE NAUKRI 28Aug2025 1500', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 1020862.5000000001, 'value': 3187.5}, {'f_score': 76.0, 'holding_days': 0, 'mtm_pct': 38375.60975609756, 'qty': 1100, 'rate': 2.05, 'symbol': 'EO CE HDFCLIFE 28Aug2025 820', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 865370.0, 'value': 2255.0}, {'f_score': 68.0, 'holding_days': 0, 'mtm_pct': 38756.09756097561, 'qty': 1000, 'rate': 2.05, 'symbol': 'EO CE AUBANK 26Jun2025 820', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 794500.0, 'value': 2050.0}, {'f_score': 86.0, 'holding_days': 0, 'mtm_pct': 41919.95012468828, 'qty': 300, 'rate': 40.1, 'symbol': 'EO CE SOLARINDS 26Jun2025 18500', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 5042970.0, 'value': 12030.0}, {'f_score': 72.0, 'holding_days': 0, 'mtm_pct': 42031.25, 'qty': 3950, 'rate': 0.8, 'symbol': 'EO CE BPCL 31Jul2025 350', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 1328187.5, 'value': 3160.0}, {'f_score': 75.0, 'holding_days': 0, 'mtm_pct': 48922.5, 'qty': 550, 'rate': 2.0, 'symbol': 'EO CE HDFCBANK 26Jun2025 2000', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 538147.5, 'value': 1100.0}, {'f_score': 57.0, 'holding_days': 0, 'mtm_pct': 49242.5, 'qty': 5000, 'rate': 0.4, 'symbol': 'EO CE FEDERALBNK 28Aug2025 215', 't_score': 25.0, 'transaction_type': 'BUY', 'unrealized': 984850.0, 'value': 2000.0}, {'f_score': 58.0, 'holding_days': 0, 'mtm_pct': 49602.32558139535, 'qty': 50, 'rate': 32.25, 'symbol': 'EO CE MARUTI 28Oct2025 18000', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 799837.5, 'value': 1612.5}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': 50899.49494949495, 'qty': 75, 'rate': 49.5, 'symbol': 'IO PE NIFTY 26Jun2025 25200', 't_score': 1.83, 'transaction_type': 'BUY', 'unrealized': 1889643.75, 'value': 3712.5}, {'f_score': 47.0, 'holding_days': 0, 'mtm_pct': 59767.605633802814, 'qty': 150, 'rate': 7.1, 'symbol': 'EO CE DMART 26Jun2025 4500', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 636525.0, 'value': 1065.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': 66192.2077922078, 'qty': 75, 'rate': 38.5, 'symbol': 'IO CE NIFTY 31Jul2025 26500', 't_score': 1.04, 'transaction_type': 'BUY', 'unrealized': 1911300.0, 'value': 2887.5}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': 70048.0, 'qty': 2250, 'rate': 1.25, 'symbol': 'EO CE BAJFINANCE 28Aug2025 960', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 1970100.0, 'value': 2812.5}, {'f_score': 40.0, 'holding_days': 0, 'mtm_pct': 76826.8292682927, 'qty': 800, 'rate': 2.05, 'symbol': 'EO CE MFSL 26Jun2025 1680', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 1259960.0, 'value': 1639.9999999999998}, {'f_score': 75.0, 'holding_days': 0, 'mtm_pct': 79980.0, 'qty': 5500, 'rate': 0.2, 'symbol': 'EO CE TATASTEEL 28Aug2025 180', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 879780.0, 'value': 1100.0}, {'f_score': 58.0, 'holding_days': 0, 'mtm_pct': 84666.66666666666, 'qty': 100, 'rate': 18.0, 'symbol': 'EO CE MARUTI 30Sep2025 16400', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 1524000.0, 'value': 1800.0}, {'f_score': 80.0, 'holding_days': 0, 'mtm_pct': 85454.83870967741, 'qty': 450, 'rate': 1.55, 'symbol': 'EO CE LODHA 31Jul2025 1480', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 596047.5, 'value': 697.5}, {'f_score': 69.0, 'holding_days': 0, 'mtm_pct': 90073.33333333333, 'qty': 4000, 'rate': 0.75, 'symbol': 'EO CE INDIANB 28Aug2025 740', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 2702200.0, 'value': 3000.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': 93106.66666666667, 'qty': 525, 'rate': 7.5, 'symbol': 'EO CE EICHERMOT 30Sep2025 7600', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 3666075.0, 'value': 3937.5}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': 96730.0, 'qty': 750, 'rate': 1.0, 'symbol': 'EO CE BAJFINANCE 31Jul2025 1070', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 725475.0, 'value': 750.0}, {'f_score': 54.0, 'holding_days': 0, 'mtm_pct': 102922.22222222222, 'qty': 200, 'rate': 2.7, 'symbol': 'EO CE ANGELONE 26Jun2025 3300', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 555780.0, 'value': 540.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': 106164.40879382055, 'qty': 525, 'rate': 24.042857142857144, 'symbol': 'IO PE NIFTY 26Jun2025 24800', 't_score': 2.58, 'transaction_type': 'BUY', 'unrealized': 13400602.5, 'value': 12622.5}, {'f_score': 58.0, 'holding_days': 0, 'mtm_pct': 107602.9702970297, 'qty': 125, 'rate': 5.05, 'symbol': 'EO CE BRITANNIA 28Aug2025 6000', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 679243.75, 'value': 631.25}, {'f_score': 47.0, 'holding_days': 0, 'mtm_pct': 137016.12903225806, 'qty': 300, 'rate': 3.1, 'symbol': 'EO CE DMART 26Jun2025 4600', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 1274250.0, 'value': 930.0}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': 145011.2716763006, 'qty': 150, 'rate': 17.3, 'symbol': 'IO PE NIFTY 12Jun2025 24800', 't_score': 1.57, 'transaction_type': 'BUY', 'unrealized': 3763042.5, 'value': 2595.0}, {'f_score': 73.0, 'holding_days': 0, 'mtm_pct': 147870.37037037036, 'qty': 500, 'rate': 1.35, 'symbol': 'EO CE BAJAJFINSV 26Jun2025 2080', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 998125.0, 'value': 675.0}, {'f_score': 73.0, 'holding_days': 0, 'mtm_pct': 157308.0, 'qty': 500, 'rate': 1.25, 'symbol': 'EO CE BAJAJFINSV 26Jun2025 2240', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 983175.0, 'value': 625.0}, {'f_score': 79.0, 'holding_days': 0, 'mtm_pct': 171880.76923076925, 'qty': 3000, 'rate': 0.43333333333333335, 'symbol': 'EO CE AUBANK 28Aug2025 830', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 2234450.0, 'value': 1300.0}, {'f_score': 63.0, 'holding_days': 0, 'mtm_pct': 223876.92307692306, 'qty': 200, 'rate': 1.3, 'symbol': 'EO CE SRF 28Aug2025 3200', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 582079.9999999999, 'value': 260.0}, {'f_score': 76.0, 'holding_days': 0, 'mtm_pct': 225850.0, 'qty': 100, 'rate': 3.0, 'symbol': 'EO CE DIVISLAB 31Jul2025 7800', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 677550.0, 'value': 300.0}, {'f_score': 93.0, 'holding_days': 0, 'mtm_pct': 251360.0, 'qty': 950, 'rate': 0.25, 'symbol': 'EO CE INDIANB 26Jun2025 703.75', 't_score': 75.0, 'transaction_type': 'BUY', 'unrealized': 596980.0, 'value': 237.5}, {'f_score': 58.0, 'holding_days': 0, 'mtm_pct': 353400.0, 'qty': 125, 'rate': 1.5, 'symbol': 'EO CE BRITANNIA 28Aug2025 6200', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 662625.0, 'value': 187.5}, {'f_score': 79.0, 'holding_days': 0, 'mtm_pct': 372625.0, 'qty': 1000, 'rate': 0.2, 'symbol': 'EO CE AUBANK 31Jul2025 940', 't_score': 37.5, 'transaction_type': 'BUY', 'unrealized': 745250.0, 'value': 200.0}, {'f_score': 66.0, 'holding_days': 0, 'mtm_pct': 413600.0, 'qty': 5900, 'rate': 0.05, 'symbol': 'EO CE NYKAA 26Jun2025 220', 't_score': 100.0, 'transaction_type': 'BUY', 'unrealized': 1220120.0, 'value': 295.0}, {'f_score': 91.0, 'holding_days': 0, 'mtm_pct': 509070.0, 'qty': 150, 'rate': 1.0, 'symbol': 'EO CE HEROMOTOCO 28Aug2025 5350', 't_score': 62.5, 'transaction_type': 'BUY', 'unrealized': 763605.0, 'value': 150.0}, {'f_score': 69.0, 'holding_days': 0, 'mtm_pct': 614500.0, 'qty': 1000, 'rate': 0.1, 'symbol': 'EO CE INDIANB 31Jul2025 670', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 614500.0, 'value': 100.0}, {'f_score': 59.0, 'holding_days': 0, 'mtm_pct': 981500.0, 'qty': 700, 'rate': 0.15, 'symbol': 'EO CE HCLTECH 31Jul2025 1700', 't_score': 12.5, 'transaction_type': 'BUY', 'unrealized': 1030575.0, 'value': 105.0}, {'f_score': 74.0, 'holding_days': 0, 'mtm_pct': 1762300.0000000005, 'qty': 2250, 'rate': 0.05, 'symbol': 'EO CE BAJFINANCE 31Jul2025 980', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 1982587.5000000002, 'value': 112.5}, {'f_score': 55.0, 'holding_days': 0, 'mtm_pct': 1915500.0, 'qty': 1100, 'rate': 0.05, 'symbol': 'EO CE HDFCBANK 28Aug2025 1030', 't_score': 50.0, 'transaction_type': 'BUY', 'unrealized': 1053525.0, 'value': 55.0}, {'f_score': 65.0, 'holding_days': 0, 'mtm_pct': 2491900.0, 'qty': 1050, 'rate': 0.05, 'symbol': 'EO CE MAXHEALTH 31Jul2025 1400', 't_score': 62.5, 'transaction_type': 'BUY', 'unrealized': 1308247.5, 'value': 52.5}, {'f_score': 90.0, 'holding_days': 0, 'mtm_pct': 3104300.0, 'qty': 375, 'rate': 0.05, 'symbol': 'EO CE COFORGE 30Sep2025 2040', 't_score': 12.5, 'transaction_type': 'BUY', 'unrealized': 582056.25, 'value': 18.75}, {'f_score': 1.0, 'holding_days': 0, 'mtm_pct': 25548900.0, 'qty': 300, 'rate': 0.1, 'symbol': 'IO PE NIFTY 26Jun2025 24900', 't_score': 2.58, 'transaction_type': 'BUY', 'unrealized': 7664670.0, 'value': 30.0}, {'f_score': 0.0, 'holding_days': 0, 'mtm_pct': 49536600.0, 'qty': 225, 'rate': 0.05, 'symbol': 'IO CE NIFTY 31Jul2025 25500', 't_score': -1.4, 'transaction_type': 'BUY', 'unrealized': 5572867.5, 'value': 11.25}, {'f_score': 0.0, 'holding_days': 0, 'mtm_pct': 49536600.0, 'qty': 75, 'rate': 0.05, 'symbol': 'IO CE NIFTY 31Jul2025 26800', 't_score': -1.4, 'transaction_type': 'BUY', 'unrealized': 1857622.5, 'value': 3.75}], 'open_positions_count': 109, 'persona_traits': {'adaptability': 0.23, 'confidence': 0.0, 'consistency': 0.0, 'discipline_score': 0.44, 'emotional_control': 0.82, 'patience': 1.0, 'risk_appetite': 0.56}, 'persona_type': 'Balanced Discretionary Trader', 'pnl_kurtosis': 43.8295500433533, 'pnl_skewness': -4.056949128331838, 'pnl_timeline': {'dates': ['2025-06-02', '2025-06-03', '2025-06-06', '2025-06-10', '2025-06-11', '2025-06-12', '2025-06-13', '2025-06-16', '2025-06-17', '2025-06-18', '2025-06-19', '2025-06-23', '2025-06-24', '2025-06-25', '2025-06-26', '2025-06-27', '2025-06-30', '2025-07-01', '2025-07-02', '2025-07-03', '2025-07-08', '2025-07-09', '2025-07-11', '2025-07-14', '2025-07-16', '2025-07-21', '2025-07-23', '2025-07-24', '2025-07-25', '2025-07-28', '2025-07-29', '2025-07-30', '2025-07-31', '2025-08-01', '2025-08-04', '2025-08-05', '2025-08-06', '2025-08-08', '2025-08-11', '2025-08-12', '2025-08-14', '2025-08-18', '2025-08-19', '2025-08-20', '2025-08-22', '2025-08-25', '2025-08-26', '2025-08-28', '2025-08-29', '2025-09-01', '2025-09-03', '2025-09-04', '2025-09-05', '2025-09-08', '2025-09-09', '2025-09-11', '2025-09-12', '2025-09-15', '2025-09-18', '2025-09-19', '2025-09-23', '2025-09-24', '2025-09-29', '2025-09-30'], 'values': [0.0, 0.0, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 2485.0, 2485.0, 2485.0, 3403.75, 3403.75, 3403.75, 3403.75, 6583.75, 2642.499999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6094.999999999999, 6094.999999999999, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 3609.999999999998, 3609.999999999998, 1109.9999999999977, 1109.9999999999977, 1109.9999999999977]}, 'pnl_volatility': 743.0605617864132, 'profit_factor': 1.0893719806763282, 'r_multiple_avg': 4.378881616208868, 'return_on_capital': 0.0029686089660013967, 'reward_to_risk_balance': 0.544685990338164, 'score_alignment_effectiveness': -0.12221162227714304, 'sharpe_ratio': 2.444104804726975, 'sortino_ratio': 5.65201662117025, 'symbol_details': {'EO CE ABB 28Aug2025 5800': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -634700.0, 'qty': -125, 'return_pct': -34077.852348993285, 'sell_f_score': 65.0, 'sell_rate': 14.9, 'sell_t_score': 0.0, 'symbol': 'EO CE ABB 28Aug2025 5800', 'value': 1862.5}, 'EO CE ABCAPITAL 30Sep2025 320': {'buy_f_score': 45.0, 'buy_rate': 1.1, 'buy_t_score': 100.0, 'days': 0, 'pnl': 900239.9999999999, 'qty': 3100, 'return_pct': 26399.999999999993, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE ABCAPITAL 30Sep2025 320', 'value': 3410.0000000000005}, 'EO CE ANGELONE 26Jun2025 3300': {'buy_f_score': 54.0, 'buy_rate': 2.7, 'buy_t_score': 37.5, 'days': 0, 'pnl': 555780.0, 'qty': 200, 'return_pct': 102922.22222222222, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE ANGELONE 26Jun2025 3300', 'value': 540.0}, 'EO CE ANGELONE 31Jul2025 3300': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -671400.0, 'qty': -250, 'return_pct': -38365.71428571428, 'sell_f_score': 44.0, 'sell_rate': 7.0, 'sell_t_score': 25.0, 'symbol': 'EO CE ANGELONE 31Jul2025 3300', 'value': 1750.0}, 'EO CE ASHOKLEY 28Aug2025 140': {'buy_f_score': 66.0, 'buy_rate': 0.5, 'buy_t_score': 100.0, 'days': 0, 'pnl': 663900.0, 'qty': 5000, 'return_pct': 26556.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE ASHOKLEY 28Aug2025 140', 'value': 2500.0}, 'EO CE ASHOKLEY 30Sep2025 150': {'buy_f_score': 66.0, 'buy_rate': 0.55, 'buy_t_score': 75.0, 'days': 0, 'pnl': -2500.0000000000005, 'qty': 0, 'return_pct': -29.41176470588236, 'sell_f_score': 66.0, 'sell_rate': 0.3, 'sell_t_score': 75.0, 'symbol': 'EO CE ASHOKLEY 30Sep2025 150', 'value': 8500.0}, 'EO CE AUBANK 26Jun2025 800': {'buy_f_score': 68.0, 'buy_rate': 9.05, 'buy_t_score': 100.0, 'days': 0, 'pnl': 787500.0, 'qty': 1000, 'return_pct': 8701.657458563535, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE AUBANK 26Jun2025 800', 'value': 9050.0}, 'EO CE AUBANK 26Jun2025 820': {'buy_f_score': 68.0, 'buy_rate': 2.05, 'buy_t_score': 100.0, 'days': 0, 'pnl': 794500.0, 'qty': 1000, 'return_pct': 38756.09756097561, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE AUBANK 26Jun2025 820', 'value': 2050.0}, 'EO CE AUBANK 28Aug2025 830': {'buy_f_score': 79.0, 'buy_rate': 0.43333333333333335, 'buy_t_score': 87.5, 'days': 0, 'pnl': 2234450.0, 'qty': 3000, 'return_pct': 171880.76923076925, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE AUBANK 28Aug2025 830', 'value': 1300.0}, 'EO CE AUBANK 28Aug2025 840': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -2208500.0, 'qty': -3000, 'return_pct': -25982.35294117647, 'sell_f_score': 79.0, 'sell_rate': 2.8333333333333335, 'sell_t_score': 37.5, 'symbol': 'EO CE AUBANK 28Aug2025 840', 'value': 8500.0}, 'EO CE AUBANK 28Aug2025 850': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -738150.0000000001, 'qty': -1000, 'return_pct': -41008.333333333336, 'sell_f_score': 79.0, 'sell_rate': 1.8, 'sell_t_score': 37.5, 'symbol': 'EO CE AUBANK 28Aug2025 850', 'value': 1800.0}, 'EO CE AUBANK 31Jul2025 830': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1503600.0, 'qty': -2000, 'return_pct': -68345.45454545454, 'sell_f_score': 79.0, 'sell_rate': 1.1, 'sell_t_score': 37.5, 'symbol': 'EO CE AUBANK 31Jul2025 830', 'value': 2200.0}, 'EO CE AUBANK 31Jul2025 940': {'buy_f_score': 79.0, 'buy_rate': 0.2, 'buy_t_score': 37.5, 'days': 0, 'pnl': 745250.0, 'qty': 1000, 'return_pct': 372625.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE AUBANK 31Jul2025 940', 'value': 200.0}, 'EO CE BAJAJFINSV 26Jun2025 2080': {'buy_f_score': 73.0, 'buy_rate': 1.35, 'buy_t_score': 50.0, 'days': 0, 'pnl': 998125.0, 'qty': 500, 'return_pct': 147870.37037037036, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BAJAJFINSV 26Jun2025 2080', 'value': 675.0}, 'EO CE BAJAJFINSV 26Jun2025 2240': {'buy_f_score': 73.0, 'buy_rate': 1.25, 'buy_t_score': 50.0, 'days': 0, 'pnl': 983175.0, 'qty': 500, 'return_pct': 157308.0, 'sell_f_score': 73.0, 'sell_rate': 2.4, 'sell_t_score': 62.5, 'symbol': 'EO CE BAJAJFINSV 26Jun2025 2240', 'value': 625.0}, 'EO CE BAJAJFINSV 26Jun2025 2280': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -998400.0, 'qty': -500, 'return_pct': -153600.0, 'sell_f_score': 73.0, 'sell_rate': 1.3, 'sell_t_score': 50.0, 'symbol': 'EO CE BAJAJFINSV 26Jun2025 2280', 'value': 650.0}, 'EO CE BAJFINANCE 28Aug2025 960': {'buy_f_score': 74.0, 'buy_rate': 1.25, 'buy_t_score': 62.5, 'days': 0, 'pnl': 1970100.0, 'qty': 2250, 'return_pct': 70048.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BAJFINANCE 28Aug2025 960', 'value': 2812.5}, 'EO CE BAJFINANCE 30Sep2025 1040': {'buy_f_score': 74.0, 'buy_rate': 6.5, 'buy_t_score': 100.0, 'days': 0, 'pnl': 2990250.0, 'qty': 3000, 'return_pct': 15334.615384615385, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BAJFINANCE 30Sep2025 1040', 'value': 19500.0}, 'EO CE BAJFINANCE 30Sep2025 1100': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1542675.0, 'qty': -1500, 'return_pct': -79111.53846153847, 'sell_f_score': 74.0, 'sell_rate': 1.3, 'sell_t_score': 100.0, 'symbol': 'EO CE BAJFINANCE 30Sep2025 1100', 'value': 1950.0}, 'EO CE BAJFINANCE 31Jul2025 1070': {'buy_f_score': 74.0, 'buy_rate': 1.0, 'buy_t_score': 100.0, 'days': 0, 'pnl': 725475.0, 'qty': 750, 'return_pct': 96730.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BAJFINANCE 31Jul2025 1070', 'value': 750.0}, 'EO CE BAJFINANCE 31Jul2025 950': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -683887.5, 'qty': -750, 'return_pct': -47992.10526315789, 'sell_f_score': 74.0, 'sell_rate': 1.9, 'sell_t_score': 50.0, 'symbol': 'EO CE BAJFINANCE 31Jul2025 950', 'value': 1425.0}, 'EO CE BAJFINANCE 31Jul2025 960': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1368600.0, 'qty': -1500, 'return_pct': -67585.18518518517, 'sell_f_score': 74.0, 'sell_rate': 1.35, 'sell_t_score': 50.0, 'symbol': 'EO CE BAJFINANCE 31Jul2025 960', 'value': 2025.0000000000002}, 'EO CE BAJFINANCE 31Jul2025 980': {'buy_f_score': 74.0, 'buy_rate': 0.05, 'buy_t_score': 50.0, 'days': 0, 'pnl': 1982587.5000000002, 'qty': 2250, 'return_pct': 1762300.0000000005, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BAJFINANCE 31Jul2025 980', 'value': 112.5}, 'EO CE BEL 28Aug2025 420': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1088842.5, 'qty': -2850, 'return_pct': -84900.0, 'sell_f_score': 73.0, 'sell_rate': 0.45, 'sell_t_score': 37.5, 'symbol': 'EO CE BEL 28Aug2025 420', 'value': 1282.5}, 'EO CE BIOCON 26Jun2025 380': {'buy_f_score': 73.0, 'buy_rate': 1.6, 'buy_t_score': 62.5, 'days': 0, 'pnl': 877624.9999999999, 'qty': 2500, 'return_pct': 21940.624999999996, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BIOCON 26Jun2025 380', 'value': 4000.0}, 'EO CE BOSCHLTD 28Aug2025 44000': {'buy_f_score': 80.0, 'buy_rate': 315.15, 'buy_t_score': 75.0, 'days': 0, 'pnl': 1006996.25, 'qty': 25, 'return_pct': 12781.167697921626, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BOSCHLTD 28Aug2025 44000', 'value': 7878.749999999999}, 'EO CE BPCL 31Jul2025 350': {'buy_f_score': 72.0, 'buy_rate': 0.8, 'buy_t_score': 50.0, 'days': 0, 'pnl': 1328187.5, 'qty': 3950, 'return_pct': 42031.25, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BPCL 31Jul2025 350', 'value': 3160.0}, 'EO CE BRITANNIA 28Aug2025 6000': {'buy_f_score': 58.0, 'buy_rate': 5.05, 'buy_t_score': 37.5, 'days': 0, 'pnl': 679243.75, 'qty': 125, 'return_pct': 107602.9702970297, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BRITANNIA 28Aug2025 6000', 'value': 631.25}, 'EO CE BRITANNIA 28Aug2025 6200': {'buy_f_score': 58.0, 'buy_rate': 1.5, 'buy_t_score': 37.5, 'days': 0, 'pnl': 662625.0, 'qty': 125, 'return_pct': 353400.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BRITANNIA 28Aug2025 6200', 'value': 187.5}, 'EO CE BRITANNIA 30Sep2025 6400': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -745887.5, 'qty': -125, 'return_pct': -175502.94117647057, 'sell_f_score': 58.0, 'sell_rate': 3.4, 'sell_t_score': 62.5, 'symbol': 'EO CE BRITANNIA 30Sep2025 6400', 'value': 425.0}, 'EO CE BRITANNIA 30Sep2025 6600': {'buy_f_score': 58.0, 'buy_rate': 20.0, 'buy_t_score': 100.0, 'days': 0, 'pnl': 1515750.0, 'qty': 250, 'return_pct': 30314.999999999996, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE BRITANNIA 30Sep2025 6600', 'value': 5000.0}, 'EO CE BSE 26Jun2025 3100': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -2007300.0, 'qty': -750, 'return_pct': -15836.686390532546, 'sell_f_score': 83.0, 'sell_rate': 16.9, 'sell_t_score': 100.0, 'symbol': 'EO CE BSE 26Jun2025 3100', 'value': 12674.999999999998}, 'EO CE BSE 26Jun2025 3400': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -2020575.0, 'qty': -750, 'return_pct': -81639.39393939394, 'sell_f_score': 83.0, 'sell_rate': 3.3, 'sell_t_score': 62.5, 'symbol': 'EO CE BSE 26Jun2025 3400', 'value': 2475.0}, 'EO CE CHOLAFIN 26Jun2025 1800': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -2911125.0, 'qty': -1875, 'return_pct': -129383.33333333333, 'sell_f_score': 89.0, 'sell_rate': 1.2, 'sell_t_score': 50.0, 'symbol': 'EO CE CHOLAFIN 26Jun2025 1800', 'value': 2250.0}, 'EO CE CHOLAFIN 28Aug2025 1660': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -887875.0, 'qty': -625, 'return_pct': -74768.42105263159, 'sell_f_score': 74.0, 'sell_rate': 1.9, 'sell_t_score': 25.0, 'symbol': 'EO CE CHOLAFIN 28Aug2025 1660', 'value': 1187.5}, 'EO CE COFORGE 30Sep2025 1860': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -608362.5, 'qty': -375, 'return_pct': -180255.55555555556, 'sell_f_score': 90.0, 'sell_rate': 0.9, 'sell_t_score': 25.0, 'symbol': 'EO CE COFORGE 30Sep2025 1860', 'value': 337.5}, 'EO CE COFORGE 30Sep2025 2040': {'buy_f_score': 90.0, 'buy_rate': 0.05, 'buy_t_score': 12.5, 'days': 0, 'pnl': 582056.25, 'qty': 375, 'return_pct': 3104300.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE COFORGE 30Sep2025 2040', 'value': 18.75}, 'EO CE DABUR 28Aug2025 600': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -666687.5, 'qty': -1250, 'return_pct': -53335.0, 'sell_f_score': 63.0, 'sell_rate': 1.0, 'sell_t_score': 75.0, 'symbol': 'EO CE DABUR 28Aug2025 600', 'value': 1250.0}, 'EO CE DIVISLAB 31Jul2025 7000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1338700.0, 'qty': -200, 'return_pct': -5770.258620689656, 'sell_f_score': 88.0, 'sell_rate': 116.0, 'sell_t_score': 100.0, 'symbol': 'EO CE DIVISLAB 31Jul2025 7000', 'value': 23200.0}, 'EO CE DIVISLAB 31Jul2025 7800': {'buy_f_score': 76.0, 'buy_rate': 3.0, 'buy_t_score': 75.0, 'days': 0, 'pnl': 677550.0, 'qty': 100, 'return_pct': 225850.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE DIVISLAB 31Jul2025 7800', 'value': 300.0}, 'EO CE DIXON 31Jul2025 15000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -711305.0, 'qty': -50, 'return_pct': -2903.8783425188813, 'sell_f_score': 77.0, 'sell_rate': 489.9, 'sell_t_score': 25.0, 'symbol': 'EO CE DIXON 31Jul2025 15000', 'value': 24495.0}, 'EO CE DLF 26Jun2025 890': {'buy_f_score': 88.0, 'buy_rate': 3.6, 'buy_t_score': 75.0, 'days': 0, 'pnl': 693990.0, 'qty': 825, 'return_pct': 23366.666666666664, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE DLF 26Jun2025 890', 'value': 2970.0}, 'EO CE DMART 26Jun2025 4500': {'buy_f_score': 47.0, 'buy_rate': 7.1, 'buy_t_score': 50.0, 'days': 0, 'pnl': 636525.0, 'qty': 150, 'return_pct': 59767.605633802814, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE DMART 26Jun2025 4500', 'value': 1065.0}, 'EO CE DMART 26Jun2025 4600': {'buy_f_score': 47.0, 'buy_rate': 3.1, 'buy_t_score': 50.0, 'days': 0, 'pnl': 1274250.0, 'qty': 300, 'return_pct': 137016.12903225806, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE DMART 26Jun2025 4600', 'value': 930.0}, 'EO CE DMART 30Sep2025 5000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -694319.9999999999, 'qty': -150, 'return_pct': -90760.78431372548, 'sell_f_score': 54.0, 'sell_rate': 5.1, 'sell_t_score': 50.0, 'symbol': 'EO CE DMART 30Sep2025 5000', 'value': 765.0}, 'EO CE DMART 30Sep2025 5200': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -696757.5, 'qty': -150, 'return_pct': -78068.06722689075, 'sell_f_score': 54.0, 'sell_rate': 5.95, 'sell_t_score': 50.0, 'symbol': 'EO CE DMART 30Sep2025 5200', 'value': 892.5}, 'EO CE DMART 31Jul2025 4400': {'buy_f_score': 54.0, 'buy_rate': 15.5, 'buy_t_score': 25.0, 'days': 0, 'pnl': 1221150.0, 'qty': 300, 'return_pct': 26261.290322580648, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE DMART 31Jul2025 4400', 'value': 4650.0}, 'EO CE DMART 31Jul2025 4500': {'buy_f_score': 54.0, 'buy_rate': 0.05, 'buy_t_score': 50.0, 'days': 0, 'pnl': 2205.0, 'qty': 0, 'return_pct': 98.65771812080537, 'sell_f_score': 54.0, 'sell_rate': 7.4, 'sell_t_score': 25.0, 'symbol': 'EO CE DMART 31Jul2025 4500', 'value': 2235.0}, 'EO CE DMART 31Jul2025 4600': {'buy_f_score': 54.0, 'buy_rate': 22.375, 'buy_t_score': 50.0, 'days': 0, 'pnl': 636753.75, 'qty': 150, 'return_pct': 18972.17877094972, 'sell_f_score': 54.0, 'sell_rate': 1.55, 'sell_t_score': 75.0, 'symbol': 'EO CE DMART 31Jul2025 4600', 'value': 3356.25}, 'EO CE DMART 31Jul2025 4900': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1311862.5, 'qty': -300, 'return_pct': -22984.888304862023, 'sell_f_score': 54.0, 'sell_rate': 19.025, 'sell_t_score': 62.5, 'symbol': 'EO CE DMART 31Jul2025 4900', 'value': 5707.5}, 'EO CE DMART 31Jul2025 5000': {'buy_f_score': 54.0, 'buy_rate': 0.3, 'buy_t_score': 25.0, 'days': 0, 'pnl': 3180.0, 'qty': 0, 'return_pct': 94.64285714285714, 'sell_f_score': 54.0, 'sell_rate': 10.9, 'sell_t_score': 62.5, 'symbol': 'EO CE DMART 31Jul2025 5000', 'value': 3360.0}, 'EO CE EICHERMOT 28Aug2025 6500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1033961.2500000001, 'qty': -175, 'return_pct': -161872.60273972605, 'sell_f_score': 74.0, 'sell_rate': 3.65, 'sell_t_score': 100.0, 'symbol': 'EO CE EICHERMOT 28Aug2025 6500', 'value': 638.75}, 'EO CE EICHERMOT 30Sep2025 7000': {'buy_f_score': 74.0, 'buy_rate': 8.1, 'buy_t_score': 100.0, 'days': 0, 'pnl': -166.2499999999999, 'qty': 0, 'return_pct': -6.229508196721307, 'sell_f_score': 74.0, 'sell_rate': 7.15, 'sell_t_score': 75.0, 'symbol': 'EO CE EICHERMOT 30Sep2025 7000', 'value': 2668.75}, 'EO CE EICHERMOT 30Sep2025 7400': {'buy_f_score': 74.0, 'buy_rate': 13.95, 'buy_t_score': 100.0, 'days': 0, 'pnl': -2435504.1666666665, 'qty': -350, 'return_pct': -46649.720670391056, 'sell_f_score': 74.0, 'sell_rate': 14.916666666666666, 'sell_t_score': 100.0, 'symbol': 'EO CE EICHERMOT 30Sep2025 7400', 'value': 5220.833333333333}, 'EO CE EICHERMOT 30Sep2025 7600': {'buy_f_score': 74.0, 'buy_rate': 7.5, 'buy_t_score': 100.0, 'days': 0, 'pnl': 3666075.0, 'qty': 525, 'return_pct': 93106.66666666667, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE EICHERMOT 30Sep2025 7600', 'value': 3937.5}, 'EO CE ETERNAL 28Aug2025 345': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1541936.25, 'qty': -4850, 'return_pct': -27057.44680851064, 'sell_f_score': 40.0, 'sell_rate': 1.175, 'sell_t_score': 100.0, 'symbol': 'EO CE ETERNAL 28Aug2025 345', 'value': 5698.75}, 'EO CE ETERNAL 30Sep2025 370': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -817952.5, 'qty': -2425, 'return_pct': -61327.27272727273, 'sell_f_score': 40.0, 'sell_rate': 0.55, 'sell_t_score': 100.0, 'symbol': 'EO CE ETERNAL 30Sep2025 370', 'value': 1333.75}, 'EO CE FEDERALBNK 28Aug2025 215': {'buy_f_score': 57.0, 'buy_rate': 0.4, 'buy_t_score': 25.0, 'days': 0, 'pnl': 984850.0, 'qty': 5000, 'return_pct': 49242.5, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE FEDERALBNK 28Aug2025 215', 'value': 2000.0}, 'EO CE FORTIS 28Aug2025 980': {'buy_f_score': 69.0, 'buy_rate': 3.925, 'buy_t_score': 100.0, 'days': 0, 'pnl': 1420923.75, 'qty': 1550, 'return_pct': 23356.050955414015, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE FORTIS 28Aug2025 980', 'value': 6083.75}, 'EO CE HCLTECH 31Jul2025 1700': {'buy_f_score': 59.0, 'buy_rate': 0.15, 'buy_t_score': 12.5, 'days': 0, 'pnl': 1030575.0, 'qty': 700, 'return_pct': 981500.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE HCLTECH 31Jul2025 1700', 'value': 105.0}, 'EO CE HDFCBANK 26Jun2025 2000': {'buy_f_score': 75.0, 'buy_rate': 2.0, 'buy_t_score': 75.0, 'days': 0, 'pnl': 538147.5, 'qty': 550, 'return_pct': 48922.5, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE HDFCBANK 26Jun2025 2000', 'value': 1100.0}, 'EO CE HDFCBANK 28Aug2025 1030': {'buy_f_score': 55.0, 'buy_rate': 0.05, 'buy_t_score': 50.0, 'days': 0, 'pnl': 1053525.0, 'qty': 1100, 'return_pct': 1915500.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE HDFCBANK 28Aug2025 1030', 'value': 55.0}, 'EO CE HDFCBANK 28Aug2025 2100': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1092575.0, 'qty': -1100, 'return_pct': -116852.94117647059, 'sell_f_score': 55.0, 'sell_rate': 0.85, 'sell_t_score': 62.5, 'symbol': 'EO CE HDFCBANK 28Aug2025 2100', 'value': 935.0}, 'EO CE HDFCBANK 28Aug2025 2240': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -552805.0, 'qty': -550, 'return_pct': -100510.0, 'sell_f_score': 55.0, 'sell_rate': 1.0, 'sell_t_score': 75.0, 'symbol': 'EO CE HDFCBANK 28Aug2025 2240', 'value': 550.0}, 'EO CE HDFCBANK 30Sep2025 1050': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1049125.0, 'qty': -1100, 'return_pct': -136250.0, 'sell_f_score': 55.0, 'sell_rate': 0.7, 'sell_t_score': 50.0, 'symbol': 'EO CE HDFCBANK 30Sep2025 1050', 'value': 770.0}, 'EO CE HDFCLIFE 26Jun2025 800': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1701150.0, 'qty': -2200, 'return_pct': -85916.66666666666, 'sell_f_score': 75.0, 'sell_rate': 0.9, 'sell_t_score': 75.0, 'symbol': 'EO CE HDFCLIFE 26Jun2025 800', 'value': 1980.0}, 'EO CE HDFCLIFE 26Jun2025 810': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -850080.0000000001, 'qty': -1100, 'return_pct': -67200.00000000001, 'sell_f_score': 75.0, 'sell_rate': 1.15, 'sell_t_score': 100.0, 'symbol': 'EO CE HDFCLIFE 26Jun2025 810', 'value': 1265.0}, 'EO CE HDFCLIFE 28Aug2025 820': {'buy_f_score': 76.0, 'buy_rate': 2.05, 'buy_t_score': 100.0, 'days': 0, 'pnl': 865370.0, 'qty': 1100, 'return_pct': 38375.60975609756, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE HDFCLIFE 28Aug2025 820', 'value': 2255.0}, 'EO CE HDFCLIFE 28Aug2025 850': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -835450.0, 'qty': -1100, 'return_pct': -44676.470588235294, 'sell_f_score': 76.0, 'sell_rate': 1.7, 'sell_t_score': 50.0, 'symbol': 'EO CE HDFCLIFE 28Aug2025 850', 'value': 1870.0}, 'EO CE HDFCLIFE 31Jul2025 900': {'buy_f_score': 76.0, 'buy_rate': 0.2, 'buy_t_score': 50.0, 'days': 0, 'pnl': 2310.0, 'qty': 0, 'return_pct': 72.41379310344827, 'sell_f_score': 75.0, 'sell_rate': 1.25, 'sell_t_score': 100.0, 'symbol': 'EO CE HDFCLIFE 31Jul2025 900', 'value': 3190.0}, 'EO CE HEROMOTOCO 28Aug2025 5350': {'buy_f_score': 91.0, 'buy_rate': 1.0, 'buy_t_score': 62.5, 'days': 0, 'pnl': 763605.0, 'qty': 150, 'return_pct': 509070.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE HEROMOTOCO 28Aug2025 5350', 'value': 150.0}, 'EO CE HEROMOTOCO 28Aug2025 5500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -746865.0, 'qty': -150, 'return_pct': -101614.28571428571, 'sell_f_score': 91.0, 'sell_rate': 4.9, 'sell_t_score': 75.0, 'symbol': 'EO CE HEROMOTOCO 28Aug2025 5500', 'value': 735.0}, 'EO CE INDHOTEL 30Sep2025 820': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -751300.0, 'qty': -1000, 'return_pct': -107328.57142857142, 'sell_f_score': 85.0, 'sell_rate': 0.7, 'sell_t_score': 25.0, 'symbol': 'EO CE INDHOTEL 30Sep2025 820', 'value': 700.0}, 'EO CE INDHOTEL 30Sep2025 840': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -774650.0, 'qty': -1000, 'return_pct': -86072.22222222222, 'sell_f_score': 85.0, 'sell_rate': 0.9, 'sell_t_score': 37.5, 'symbol': 'EO CE INDHOTEL 30Sep2025 840', 'value': 900.0}, 'EO CE INDIANB 26Jun2025 703.75': {'buy_f_score': 93.0, 'buy_rate': 0.25, 'buy_t_score': 75.0, 'days': 0, 'pnl': 596980.0, 'qty': 950, 'return_pct': 251360.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE INDIANB 26Jun2025 703.75', 'value': 237.5}, 'EO CE INDIANB 28Aug2025 740': {'buy_f_score': 69.0, 'buy_rate': 0.75, 'buy_t_score': 100.0, 'days': 0, 'pnl': 2702200.0, 'qty': 4000, 'return_pct': 90073.33333333333, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE INDIANB 28Aug2025 740', 'value': 3000.0}, 'EO CE INDIANB 31Jul2025 670': {'buy_f_score': 69.0, 'buy_rate': 0.1, 'buy_t_score': 50.0, 'days': 0, 'pnl': 614500.0, 'qty': 1000, 'return_pct': 614500.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE INDIANB 31Jul2025 670', 'value': 100.0}, 'EO CE INFY 26Jun2025 1680': {'buy_f_score': 77.0, 'buy_rate': 6.1, 'buy_t_score': 50.0, 'days': 0, 'pnl': 641000.0, 'qty': 400, 'return_pct': 26270.49180327869, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE INFY 26Jun2025 1680', 'value': 2440.0}, 'EO CE LODHA 31Jul2025 1480': {'buy_f_score': 80.0, 'buy_rate': 1.55, 'buy_t_score': 37.5, 'days': 0, 'pnl': 596047.5, 'qty': 450, 'return_pct': 85454.83870967741, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE LODHA 31Jul2025 1480', 'value': 697.5}, 'EO CE MARUTI 28Oct2025 18000': {'buy_f_score': 58.0, 'buy_rate': 32.25, 'buy_t_score': 75.0, 'days': 0, 'pnl': 799837.5, 'qty': 50, 'return_pct': 49602.32558139535, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE MARUTI 28Oct2025 18000', 'value': 1612.5}, 'EO CE MARUTI 30Sep2025 16400': {'buy_f_score': 58.0, 'buy_rate': 18.0, 'buy_t_score': 100.0, 'days': 0, 'pnl': 1524000.0, 'qty': 100, 'return_pct': 84666.66666666666, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE MARUTI 30Sep2025 16400', 'value': 1800.0}, 'EO CE MAXHEALTH 31Jul2025 1400': {'buy_f_score': 65.0, 'buy_rate': 0.05, 'buy_t_score': 62.5, 'days': 0, 'pnl': 1308247.5, 'qty': 1050, 'return_pct': 2491900.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE MAXHEALTH 31Jul2025 1400', 'value': 52.5}, 'EO CE MFSL 26Jun2025 1680': {'buy_f_score': 40.0, 'buy_rate': 2.05, 'buy_t_score': 100.0, 'days': 0, 'pnl': 1259960.0, 'qty': 800, 'return_pct': 76826.8292682927, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE MFSL 26Jun2025 1680', 'value': 1639.9999999999998}, 'EO CE MFSL 30Sep2025 1840': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1279440.0, 'qty': -800, 'return_pct': -55148.275862068964, 'sell_f_score': 54.0, 'sell_rate': 2.9, 'sell_t_score': 75.0, 'symbol': 'EO CE MFSL 30Sep2025 1840', 'value': 2320.0}, 'EO CE NAUKRI 28Aug2025 1500': {'buy_f_score': 67.0, 'buy_rate': 4.25, 'buy_t_score': 37.5, 'days': 0, 'pnl': 1020862.5000000001, 'qty': 750, 'return_pct': 32027.058823529416, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE NAUKRI 28Aug2025 1500', 'value': 3187.5}, 'EO CE NYKAA 26Jun2025 205': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1166784.0, 'qty': -5900, 'return_pct': -32960.0, 'sell_f_score': 66.0, 'sell_rate': 0.6, 'sell_t_score': 62.5, 'symbol': 'EO CE NYKAA 26Jun2025 205', 'value': 3540.0}, 'EO CE NYKAA 26Jun2025 220': {'buy_f_score': 66.0, 'buy_rate': 0.05, 'buy_t_score': 100.0, 'days': 0, 'pnl': 1220120.0, 'qty': 5900, 'return_pct': 413600.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE NYKAA 26Jun2025 220', 'value': 295.0}, 'EO CE NYKAA 30Sep2025 255': {'buy_f_score': 77.0, 'buy_rate': 3.1, 'buy_t_score': 100.0, 'days': 0, 'pnl': -3281.250000000001, 'qty': 0, 'return_pct': -20.38834951456311, 'sell_f_score': 77.0, 'sell_rate': 2.05, 'sell_t_score': 100.0, 'symbol': 'EO CE NYKAA 30Sep2025 255', 'value': 16093.75}, 'EO CE NYKAA 30Sep2025 260': {'buy_f_score': 77.0, 'buy_rate': 1.9, 'buy_t_score': 100.0, 'days': 0, 'pnl': 752312.4999999999, 'qty': 3125, 'return_pct': 12670.526315789471, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE NYKAA 30Sep2025 260', 'value': 5937.5}, 'EO CE SBILIFE 31Jul2025 2040': {'buy_f_score': 67.0, 'buy_rate': 0.45, 'buy_t_score': 62.5, 'days': 0, 'pnl': -677475.0, 'qty': -375, 'return_pct': -62296.55172413793, 'sell_f_score': 67.0, 'sell_rate': 2.9, 'sell_t_score': 100.0, 'symbol': 'EO CE SBILIFE 31Jul2025 2040', 'value': 1087.5}, 'EO CE SHREECEM 31Jul2025 34000': {'buy_f_score': 70.0, 'buy_rate': 2.05, 'buy_t_score': 62.5, 'days': 0, 'pnl': 2531.25, 'qty': 0, 'return_pct': 96.10821072615093, 'sell_f_score': 70.0, 'sell_rate': 103.3, 'sell_t_score': 100.0, 'symbol': 'EO CE SHREECEM 31Jul2025 34000', 'value': 2633.75}, 'EO CE SOLARINDS 26Jun2025 18500': {'buy_f_score': 86.0, 'buy_rate': 40.1, 'buy_t_score': 75.0, 'days': 0, 'pnl': 5042970.0, 'qty': 300, 'return_pct': 41919.95012468828, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE SOLARINDS 26Jun2025 18500', 'value': 12030.0}, 'EO CE SOLARINDS 31Jul2025 20000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1268182.5, 'qty': -75, 'return_pct': -56552.17391304347, 'sell_f_score': 90.0, 'sell_rate': 29.9, 'sell_t_score': 62.5, 'symbol': 'EO CE SOLARINDS 31Jul2025 20000', 'value': 2242.5}, 'EO CE SRF 28Aug2025 3200': {'buy_f_score': 63.0, 'buy_rate': 1.3, 'buy_t_score': 37.5, 'days': 0, 'pnl': 582079.9999999999, 'qty': 200, 'return_pct': 223876.92307692306, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE SRF 28Aug2025 3200', 'value': 260.0}, 'EO CE SRF 31Jul2025 3500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -613300.0, 'qty': -200, 'return_pct': -21903.571428571428, 'sell_f_score': 71.0, 'sell_rate': 14.0, 'sell_t_score': 75.0, 'symbol': 'EO CE SRF 31Jul2025 3500', 'value': 2800.0}, 'EO CE TATAELXSI 31Jul2025 6500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1208200.0, 'qty': -200, 'return_pct': -24164.0, 'sell_f_score': 54.0, 'sell_rate': 25.0, 'sell_t_score': 6.25, 'symbol': 'EO CE TATAELXSI 31Jul2025 6500', 'value': 5000.0}, 'EO CE TATAMOTORS 30Sep2025 740': {'buy_f_score': 0, 'buy_rate': 4.25, 'buy_t_score': 0, 'days': 0, 'pnl': 0.0, 'qty': 800, 'return_pct': 0.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE TATAMOTORS 30Sep2025 740', 'value': 3400.0}, 'EO CE TATAMOTORS 31Jul2025 690': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': 0.0, 'qty': -1600, 'return_pct': 0.0, 'sell_f_score': 0, 'sell_rate': 1.0, 'sell_t_score': 0, 'symbol': 'EO CE TATAMOTORS 31Jul2025 690', 'value': 1600.0}, 'EO CE TATASTEEL 28Aug2025 180': {'buy_f_score': 75.0, 'buy_rate': 0.2, 'buy_t_score': 100.0, 'days': 0, 'pnl': 879780.0, 'qty': 5500, 'return_pct': 79980.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'EO CE TATASTEEL 28Aug2025 180', 'value': 1100.0}, 'IO CE NIFTY 26Jun2025 25500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -5677413.75, 'qty': -225, 'return_pct': -213838.55932203392, 'sell_f_score': 1.0, 'sell_rate': 11.8, 'sell_t_score': 1.83, 'symbol': 'IO CE NIFTY 26Jun2025 25500', 'value': 2655.0}, 'IO CE NIFTY 31Jul2025 25500': {'buy_f_score': 0.0, 'buy_rate': 0.05, 'buy_t_score': -1.4, 'days': 0, 'pnl': 5572867.5, 'qty': 225, 'return_pct': 49536600.0, 'sell_f_score': 0.0, 'sell_rate': 5.15, 'sell_t_score': -2.24, 'symbol': 'IO CE NIFTY 31Jul2025 25500', 'value': 11.25}, 'IO CE NIFTY 31Jul2025 26500': {'buy_f_score': 1.0, 'buy_rate': 38.5, 'buy_t_score': 1.04, 'days': 0, 'pnl': 1911300.0, 'qty': 75, 'return_pct': 66192.2077922078, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'IO CE NIFTY 31Jul2025 26500', 'value': 2887.5}, 'IO CE NIFTY 31Jul2025 26800': {'buy_f_score': 0.0, 'buy_rate': 0.05, 'buy_t_score': -1.4, 'days': 0, 'pnl': 1857622.5, 'qty': 75, 'return_pct': 49536600.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'IO CE NIFTY 31Jul2025 26800', 'value': 3.75}, 'IO CE NIFTY 31Jul2025 26900': {'buy_f_score': 0.0, 'buy_rate': 0.05, 'buy_t_score': -1.4, 'days': 0, 'pnl': -9283356.25, 'qty': -375, 'return_pct': -194415.83769633507, 'sell_f_score': 1.0, 'sell_rate': 12.733333333333333, 'sell_t_score': 0.65, 'symbol': 'IO CE NIFTY 31Jul2025 26900', 'value': 4775.0}, 'IO PE NIFTY 09Sep2025 24200': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1857843.75, 'qty': -75, 'return_pct': -1303750.0, 'sell_f_score': 1.0, 'sell_rate': 1.9, 'sell_t_score': 0.28, 'symbol': 'IO PE NIFTY 09Sep2025 24200', 'value': 142.5}, 'IO PE NIFTY 12Jun2025 24800': {'buy_f_score': 1.0, 'buy_rate': 17.3, 'buy_t_score': 1.57, 'days': 0, 'pnl': 3763042.5, 'qty': 150, 'return_pct': 145011.2716763006, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'IO PE NIFTY 12Jun2025 24800', 'value': 2595.0}, 'IO PE NIFTY 12Jun2025 25000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -11303932.500000002, 'qty': -450, 'return_pct': -116565.42923433876, 'sell_f_score': 1.0, 'sell_rate': 21.55, 'sell_t_score': 1.57, 'symbol': 'IO PE NIFTY 12Jun2025 25000', 'value': 9697.5}, 'IO PE NIFTY 19Jun2025 24000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -5610487.5, 'qty': -225, 'return_pct': -226686.36363636365, 'sell_f_score': 1.0, 'sell_rate': 11.0, 'sell_t_score': 0.66, 'symbol': 'IO PE NIFTY 19Jun2025 24000', 'value': 2475.0}, 'IO PE NIFTY 23Sep2025 24500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -1906522.5, 'qty': -75, 'return_pct': -770312.1212121212, 'sell_f_score': 1.0, 'sell_rate': 3.3, 'sell_t_score': 1.97, 'symbol': 'IO PE NIFTY 23Sep2025 24500', 'value': 247.5}, 'IO PE NIFTY 26Jun2025 22500': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -5611320.0, 'qty': -225, 'return_pct': -341632.8767123288, 'sell_f_score': 1.0, 'sell_rate': 7.3, 'sell_t_score': 0.66, 'symbol': 'IO PE NIFTY 26Jun2025 22500', 'value': 1642.5}, 'IO PE NIFTY 26Jun2025 24700': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -15323610.0, 'qty': -600, 'return_pct': -264656.4766839378, 'sell_f_score': 1.0, 'sell_rate': 9.65, 'sell_t_score': 0.98, 'symbol': 'IO PE NIFTY 26Jun2025 24700', 'value': 5790.0}, 'IO PE NIFTY 26Jun2025 24800': {'buy_f_score': 1.0, 'buy_rate': 24.042857142857144, 'buy_t_score': 0.98, 'days': 0, 'pnl': 13400602.5, 'qty': 525, 'return_pct': 106164.40879382055, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'IO PE NIFTY 26Jun2025 24800', 'value': 12622.5}, 'IO PE NIFTY 26Jun2025 24900': {'buy_f_score': 1.0, 'buy_rate': 0.1, 'buy_t_score': 2.58, 'days': 0, 'pnl': 7664670.0, 'qty': 300, 'return_pct': 25548900.0, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'IO PE NIFTY 26Jun2025 24900', 'value': 30.0}, 'IO PE NIFTY 26Jun2025 25200': {'buy_f_score': 1.0, 'buy_rate': 49.5, 'buy_t_score': 1.83, 'days': 0, 'pnl': 1889643.75, 'qty': 75, 'return_pct': 50899.49494949495, 'sell_f_score': 0, 'sell_rate': 0.0, 'sell_t_score': 0, 'symbol': 'IO PE NIFTY 26Jun2025 25200', 'value': 3712.5}, 'IO PE NIFTY 31Jul2025 24000': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -5572676.249999999, 'qty': -225, 'return_pct': -2751938.8888888885, 'sell_f_score': 0.0, 'sell_rate': 0.9, 'sell_t_score': -1.4, 'symbol': 'IO PE NIFTY 31Jul2025 24000', 'value': 202.5}, 'IO PE NIFTY 31Jul2025 24100': {'buy_f_score': 0, 'buy_rate': 0.0, 'buy_t_score': 0, 'days': 0, 'pnl': -7403040.000000001, 'qty': -300, 'return_pct': -601873.1707317075, 'sell_f_score': 0.0, 'sell_rate': 4.1, 'sell_t_score': -2.24, 'symbol': 'IO PE NIFTY 31Jul2025 24100', 'value': 1230.0}}, 't_score_volatility': 34.04916438651493, 'total_investment_value_open': 322160.8333333333, 'total_pnl': 1109.9999999999973, 'total_pnl_combined': -21937588.16666667, 'total_realized_pnl': 1109.999999999998, 'total_score_volatility': 14.997228849844332, 'total_trades': 151, 'total_unrealized_pnl': -21938698.16666667, 'trade_timing_bias': 0, 'trading_days': 64, 'trait_summary': 'Trader shows characteristics of a **Balanced Discretionary Trader**.- Discipline: 44%- Emotional Control: 82%- Risk Appetite: 56%- Patience: 100%- Adaptability: 23%- Consistency: 0%- Confidence: 0%', 'value_at_risk_95': 0.0, 'volatility_index': 1.578575392176699, 'volume_following_behavior': 0.0035854539720944147, 'volume_volatility': 2.179100907454837, 'win_rate': 6.622516556291391}

    patterns_data = {'chasing_losses': {'count': 2, 'detected': False, 'percentage': 1.3245033112582782}, 'fomo_trading': {'detected': True, 'fomo_trades': 9, 'percentage': 5.960264900662252}, 'hedging': {'detected': False, 'hedged_days': 0}, 'instrument_clustering': {'banknifty_percentage': 0.0, 'call_percentage': 0.0, 'nifty_percentage': 14.56953642384106, 'put_percentage': 0.0}, 'overconfidence': {'detected': False, 'overconf_trades': 1, 'percentage': 0.6622516556291391}, 'overtrading': {'avg_trades_per_day': 2.359375, 'detected': False, 'max_trades_per_day': 9, 'overtrading_days': 0, 'severity': 'LOW'}, 'pyramiding': {'detected': False, 'sequences': 0}, 'revenge_trading': {'count': 1, 'detected': False, 'percentage': 0.6622516556291391}, 'scalping': {'avg_holding_minutes': 2117.0860927152316, 'detected': False, 'scalping_percentage': 91.3907284768212, 'scalping_trades': 138}, 'time_patterns': {'afternoon_trades': 0, 'morning_trader': True, 'morning_trades': 151, 'most_active_hours': [0]}, 'weekend_exposure': {'detected': True, 'percentage': 15.2317880794702, 'weekend_positions': 23}}

    analysis_data =  {'analysis_text': {
        'behavioral_insights': '**Behavioral Analysis (≈230 words)** The trader’s psychological profile reveals a *Balanced Discretionary* disposition, yet the data expose several emotional and discipline‑related pitfalls. The most salient red flag is the high **scalping activity** (≈91 % of trades) coupled with an absence of overtrading or pyramiding. Such a “quick‑win” focus often masks a **chasing‑loss** mindset, even though the system flags only one revenge trade. The presence of **fomo‑trading** (≈6 % of positions) signals a susceptibility to herd pressure—trading during the most active hour (midnight) and holding a notable weekend exposure (≈15 %) further underline a tendency to let emotions dictate timing and risk. Emotionally, the trader exhibits a pronounced **emotional‑control** score (82 %) but fails in **confidence** and **consistency** (both 0 %). This mismatch suggests that while the trader can manage feelings in the moment, they lack a coherent, rule‑based framework to sustain long‑term performance. The **patience** score of 100 % indicates the ability to wait for proper setups, yet the **discipline** score (44 %) and **adaptability** (23 %) are low, hinting at sporadic rule violations and a rigid strategy that struggles to adjust to changing market conditions. The negative **score‑alignment effectiveness** (-0.12) underscores that the trader’s subjective scoring system is poorly calibrated against actual outcomes, reinforcing the notion of inconsistent decision‑making. Positive traits include an almost perfect **patience** metric, suggesting the trader often waits for favorable entries. The **emotional‑control** score indicates a strong capacity to suppress impulsive reactions once a trade is entered. The trader’s **average t‑score** (≈56) and **f‑score** (≈59) demonstrate a moderate risk‑reward balance, and the **hit‑rate on 52‑week highs** (~67 %) reflects a degree of consistency in capturing profitable swings. To improve, the trader should focus on tightening rule adherence, reducing weekend exposure, and aligning their scoring system with objective performance metrics.', 'performance_summary': '**Overall verdict: Poor** **Key strengths** – The trader shows solid emotional control (82 %) and disciplined patience (100 %).  His risk appetite is moderate and he rarely over‑trades, suggesting a cautious approach.  The persona “Balanced Discretionary Trader” fits the data: he is not impulsive, keeps a consistent trading rhythm and uses a clear scoring system. **Major weaknesses** – Consistency and confidence are zero, indicating that trades are not aligned with the scoring framework.  The strategy is almost entirely scalping (91 %) with long holding periods (≈35 h) – a mismatch that erodes profitability.  FOMO trading and weekend exposure add unnecessary risk.  The risk‑reward balance is weak (0.54) and the efficiency ratio (0.04) shows that most capital is lost on low‑quality trades.  The portfolio is heavily skewed toward losing positions, with 89 % of low‑score trades losing money. **Bottom‑line assessment** – While the trader’s discipline and emotional control are commendable, the lack of consistency, confidence and an over‑reliance on scalping and FOMO trades undermine performance.  The resulting negative skewness, high kurtosis and poor risk‑reward metrics indicate that the strategy is not sustainable.  A significant overhaul of trade‑timing, position sizing and a shift away from impulsive, weekend‑based trades is urgently required.',




        'recommendations': '**1. Immediate actions (next 1–2 weeks)** - **Close all weekend positions** – 23 open positions (15 % of the book) carry unnecessary risk.  Liquidate or hedge them by the end of the next week. - **Set a strict stop‑loss rule** – for every new trade risk no more than **1 % of capital** (≈ ₹30 000).  Enforce it automatically. - **Review the 9 FOMO trades** – identify the trigger signals that led to those trades and block the same conditions in the next 7 days. - **Reduce scalping frequency** – limit scalping to **≤ 30 % of total trades** in the next two weeks (≈ 40 trades).  The remaining 70 % should be swing or trend‑following trades. - **Implement a trade‑journal template** – capture entry rationale, exit rationale, risk‑reward, and emotional state for each trade.  Review it daily for consistency. **2. Short‑term improvements (1–3 months)** - **Introduce a systematic trade plan** – define clear entry/exit rules, risk‑reward ratio ≥ 2:1, and position‑sizing based on volatility (e.g., 1–2 % of capital per trade). - **Add a trailing‑stop mechanism** – lock in profits after a 20 % gain or a 10 % loss, whichever comes first, to reduce the downside deviation (currently ≈ ₹2 500). - **Diversify instrument exposure** – add 10–15 % Bank Nifty and a small portion of equity futures (5–10 %) to spread correlation. - **Enforce a maximum of 5 trades per day** – cut the current average of 2.36 to a hard cap of 5 to avoid overtrading while keeping the daily activity high enough for scalping. - **Set a weekly performance review** – track hit‑rate on 52‑week highs, consistency score, and risk‑reward balance.  Aim to lift consistency from 0 % to ≥ 30 %. **3. Long‑term strategy changes** - **Shift from pure scalping to a mixed‑style approach** – keep a 30 % scalping mix but add a 30 % swing‑trade mix and 40 % trend‑following mix to improve long‑term returns. - **Adopt a risk‑managed portfolio framework** – allocate 40 % of capital to high‑conviction long positions, 20 % to hedged positions (options or inverse ETFs), and 40 % to short‑term tactical trades. - **Implement a formal risk‑management system** – use volatility‑based position sizing, a maximum drawdown limit of 15 % of capital, and a daily loss cap of 2 % of capital. - **Introduce periodic rebalancing** – every 3 months rebalance the portfolio to keep concentration < 20 % in any single instrument. **4. Specific metrics/traits to improve** | Trait / Metric | Target | Why it matters | |----------------|--------|----------------| | **Consistency score** | ≥ 30 % | Higher consistency reduces erratic performance and improves confidence. | | **Confidence level** | ≥ 30 % | A realistic confidence level supports disciplined risk‑taking without overconfidence. | | **Adaptability** | ≥ 50 % | Better response to changing market conditions, especially after the 14 % Nifty exposure. | | **Risk‑appetite** | 60–70 % | Aligns with a balanced trader profile while still allowing profitable opportunities. | | **Risk‑Reward balance** | ≥ 2:1 for ≥ 70 % of trades | Reduces downside deviation and improves overall efficiency. | | **Maximum daily trades** | ≤ 5 | Prevents overtrading and preserves discipline. | | **Weekend exposure** | ≤ 5 % of positions | Minimizes unmonitored risk on non‑trading days. | | **FOMO trading** | 0 % | Eliminating FOMO trades will lower emotional bias and improve hit rates. | By focusing on these actions and metrics, the trader can move from a highly scalping‑centric, emotionally‑controlled style to a more balanced, disciplined, and risk‑aware long‑term strategy.', 'risk_assessment': '**Risk Profile – 200‑300 words** The trader’s overall risk sits at **MEDIUM–HIGH**. While the over‑trading score is low and the average daily capital drawdown (≈ ₹2,500) is modest, the portfolio is heavily skewed toward short‑duration scalping (≈ 91 % of trades) and is exposed to weekend positions (≈ 15 % of days). The negative reward‑to‑risk balance (0.54) and a high downside deviation (≈ ₹2,500) expose the trader to sudden large losses that are not adequately offset by the high average R‑multiple (≈ 4.4). The VaR at 95 % is reported as zero, indicating either an inadequate estimation or that the trader’s positions are short‑lived and highly liquid; nevertheless, the extreme kurtosis (≈ 44) and skewness (‑4) show a heavy tail of large negative outcomes, hinting at a few catastrophic trades. **Key risk drivers** 1. **High scalping frequency** – 138 of 151 trades are scalping‑style, leaving little room for fundamental analysis or trend capture. 2. **Weekend exposure** – 23 positions held over the weekend increase susceptibility to overnight news or market gaps. 3. **FOMO trading** – 9 fomo trades (≈ 6 %) indicate a tendency to chase momentum, which can amplify losses. 4. **Low consistency and confidence** – The trader’s consistency and confidence scores are zero, suggesting a lack of disciplined, repeatable rules that could dampen performance swings. 5. **Low adaptability** (23 %) – The strategy is rigid, with minimal response to changing market regimes. **Risk‑adjusted performance** The return on capital of 0.30 % per year is modest, but the R‑multiple of 4.38 and efficiency ratio of 0.043 indicate that when trades are successful, they generate significant upside. However, the low hit rate at 52‑week highs (67 %) and a 0 % hit rate at lows demonstrate that the strategy rarely captures the full upside of market moves. The high downside deviation relative to the mean return signals a fragile performance profile. **Potential vulnerabilities** Given the persona’s balanced, discretionary nature, the trader is emotionally controlled yet patient. The absence of consistency and confidence means that the trader may be prone to “revenge” or “overconfidence” trades when a position moves unfavourably, despite the low detection rate. The reliance on scalping and weekend trading exposes the trader to liquidity squeezes and adverse gaps, especially during volatile periods (volatility index 1.58). The high fomo signal suggests a susceptibility to trend chasing, which could lead to position buildup in a deteriorating market. Overall, the trader’s behaviour creates a moderate‑to‑high risk environment that requires tighter stop‑loss discipline, weekend position limits, and a systematic rule‑based approach to reduce tail risk.', 'trader_profile': '**Trader Profile – Balanced Discretionary Scalper** The trader operates on a **Balanced Discretionary** framework, exhibiting moderate discipline (44 %) and high emotional control (82 %). He is patient, never abandoning positions before the market closes, but shows limited adaptability (23 %) and no clear consistency or confidence patterns. Capital‑efficiency is low (0.043 %), yet the average reward‑to‑risk ratio of 0.54 and an R‑multiple of 4.38 indicate that most winning trades deliver a sizable return relative to the risk taken. He trades almost exclusively in Nifty futures (≈15 % of the book), with no exposure to Bank Nifty, calls or puts. The strategy is heavily scalping‑oriented: 138 of 151 trades are short‑holding (≈35 h on average) and the majority of activity occurs in the early morning session (151 trades) with no afternoon activity. Overtrading is not a concern (average 2.36 trades/day, max 9 per day). Risk‑seeking behavior is moderate (56 % risk appetite) but the trader rarely pyramids or hedges. The portfolio is susceptible to **FOMO** (5.96 % of trades) and weekend exposure (15 % of positions held on Saturdays/Sundays). Revenge trading and chasing losses are absent, and overconfidence is not detected. Overall, the trader demonstrates a disciplined, patient, and emotion‑controlled approach, heavily reliant on short‑term, high‑frequency trades with a clear bias toward morning sessions. The strategy yields a modest 0.30 % annual return on capital, but the portfolio exhibits high downside volatility (≈2.5 k) and a strong negative skew, signalling that while the trader captures many small gains, a few large losses dominate the risk profile.'}, 'summary_data': {'avg_f_score': 58.644295302013425, 'avg_t_score': 55.74664429530201, 'avg_total_score': 67.26484126984127,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   'detected_patterns': ['fomo_trading', 'weekend_exposure'], 'max_drawdown_pct': 98.31, 'performance_score': 60, 'performance_verdict': 'AVERAGE', 'profit_factor': 1.0893719806763282, 'return_on_capital': 0.0029686089660013967, 'risk_level': 'HIGH', 'sharpe_ratio': 2.444104804726975, 'sortino_ratio': 5.65201662117025, 'strengths': '', 'total_trades': 151, 'weaknesses': '', 'win_rate': 6.622516556291391}, 'web_data': {'charts': {'day_mtm': 0.0, 'instrument_distribution': [{'name': 'BankNifty', 'value': 0.0}, {'name': 'Nifty', 'value': 14.56953642384106}, {'name': 'Nifty Bank', 'value': 0}, {'name': 'Nifty IT', 'value': 0}, {'name': 'Nifty FMCG', 'value': 0}, {'name': 'Nifty Metal', 'value': 0}, {'name': 'Nifty Pharma', 'value': 0}, {'name': 'Nifty PSU', 'value': 0}, {'name': 'Nifty PSU', 'value': 0}], 'pnl_timeline': {'dates': ['2025-06-02', '2025-06-03', '2025-06-06', '2025-06-10', '2025-06-11', '2025-06-12', '2025-06-13', '2025-06-16', '2025-06-17', '2025-06-18', '2025-06-19', '2025-06-23', '2025-06-24', '2025-06-25', '2025-06-26', '2025-06-27', '2025-06-30', '2025-07-01', '2025-07-02', '2025-07-03', '2025-07-08', '2025-07-09', '2025-07-11', '2025-07-14', '2025-07-16', '2025-07-21', '2025-07-23', '2025-07-24', '2025-07-25', '2025-07-28', '2025-07-29', '2025-07-30', '2025-07-31', '2025-08-01', '2025-08-04', '2025-08-05', '2025-08-06', '2025-08-08', '2025-08-11', '2025-08-12', '2025-08-14', '2025-08-18', '2025-08-19', '2025-08-20', '2025-08-22', '2025-08-25', '2025-08-26', '2025-08-28', '2025-08-29', '2025-09-01', '2025-09-03', '2025-09-04', '2025-09-05', '2025-09-08', '2025-09-09', '2025-09-11', '2025-09-12', '2025-09-15', '2025-09-18', '2025-09-19', '2025-09-23', '2025-09-24', '2025-09-29', '2025-09-30'], 'values': [0.0, 0.0, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 175.00000000000006, 2485.0, 2485.0, 2485.0, 3403.75, 3403.75, 3403.75, 3403.75, 6583.75, 2642.499999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6261.249999999999, 6094.999999999999, 6094.999999999999, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 2813.749999999998, 3609.999999999998, 3609.999999999998, 1109.9999999999977, 1109.9999999999977, 1109.9999999999977]}, 'win_loss_amounts': {'avg_loss': -2484.000000000001, 'avg_win': 1353.0, 'largest_loss': -6472.500000000001, 'largest_win': 3180.0}}, 'kpis': {'avg_holding_period_min': 2117.0860927152316, 'avg_total_score': 67.26484126984127, 'discipline_score': 0.44, 'efficiency_ratio': 0.042774566473988335, 'emotional_control': 0.82, 'fomo_trading_detected': True, 'high_score_win_rate_pct': 1.6666666666666667, 'max_drawdown_pct': 98.31, 'overtrading_detected': False, 'persona_type': 'Balanced Discretionary Trader', 'pnl_total': 1109.9999999999973, 'profit_factor': 1.0893719806763282, 'revenge_trading_detected': False, 'risk_appetite': 0.56, 'roc_pct': 0.0029686089660013967, 'sharpe_ratio': 2.444104804726975, 'sortino_ratio': 5.65201662117025, 'total_trades': 151, 'value_at_risk_95': 0.0, 'win_rate_pct': 6.622516556291391}, 'persona_scores': {'adaptability': 0.23, 'confidence': 0.0, 'consistency': 0.0, 'discipline_score': 0.44, 'emotional_control': 0.82, 'patience': 1.0, 'risk_appetite': 0.56}, 'raw_patterns': {'chasing_losses': {'count': 2, 'detected': False, 'percentage': 1.3245033112582782}, 'fomo_trading': {'detected': True, 'fomo_trades': 9, 'percentage': 5.960264900662252}, 'hedging': {'detected': False, 'hedged_days': 0}, 'instrument_clustering': {'banknifty_percentage': 0.0, 'call_percentage': 0.0, 'nifty_percentage': 14.56953642384106, 'put_percentage': 0.0}, 'overconfidence': {'detected': False, 'overconf_trades': 1, 'percentage': 0.6622516556291391}, 'overtrading': {'avg_trades_per_day': 2.359375, 'detected': False, 'max_trades_per_day': 9, 'overtrading_days': 0, 'severity': 'LOW'}, 'pyramiding': {'detected': False, 'sequences': 0}, 'revenge_trading': {'count': 1, 'detected': False, 'percentage': 0.6622516556291391}, 'scalping': {'avg_holding_minutes': 2117.0860927152316, 'detected': False, 'scalping_percentage': 91.3907284768212, 'scalping_trades': 138}, 'time_patterns': {'afternoon_trades': 0, 'morning_trader': True, 'morning_trades': 151, 'most_active_hours': [0]}, 'weekend_exposure': {'detected': True, 'percentage': 15.2317880794702, 'weekend_positions': 23}}}}
    trader_name = "Trader"
    generator = ReportGenerator()



    # Generate the report with all data
    report = generator.generate_report(
        metrics=metrics_data,
        patterns=patterns_data,
        analysis=analysis_data,
        trader_name=trader_name
    )

    # Export to HTML
    generator.export_html(report, "trading_report_complete.html")

    # Also export to JSON for data backup
    generator.export_json(report, "trading_report_complete.json")

    return report


if __name__ == "__main__":
    print(generate_comprehensive_report())
    print("Comprehensive Trading Report Generator ready!  :   trading_report_complete.html")
    print("Use generate_comprehensive_report(metrics, patterns, analysis) to create report")